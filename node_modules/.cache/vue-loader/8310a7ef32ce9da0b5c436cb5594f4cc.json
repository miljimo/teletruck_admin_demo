{"remainingRequest":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/Blogs.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/Blogs.vue","mtime":1611773876985},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/babel-loader/lib/index.js","mtime":1596739166622},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js","mtime":1596739192596}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  computed: {\n    loading() {\n      return this.$store.getters.pgLoading;\n    },\n  },\n  mounted() {\n    this.getBlogs();\n  },\n  data() {\n    return {\n      blogs: [],\n      table_options: {\n        current_page: 1,\n      },\n    };\n  },\n  watch: {\n    \"table_options.current_page\": function () {\n      this.getBlogs(true);\n    },\n  },\n  methods: {\n    getBl() {\n      this.$store.commit(\"pgLoading\", true);\n      this.getBlogs(false);\n    },\n    getBlogs(divLoad) {\n      if (divLoad) {\n        this.$vs.loading({\n          container: \"#div-with-loading\",\n          scale: 0.6,\n        });\n      }\n      let pageNo = this.table_options.current_page;\n      this.$store\n        .dispatch(\"getBlogs\", pageNo)\n        .then((resp) => {\n          this.blogs = resp.data;\n          console.log(resp.data);\n          this.$store.commit(\"pgLoading\", false);\n        })\n        .catch((err) => {\n          if (err.response) {\n            this.$vs.notify({\n              title: \"Get Blogs\",\n              text: err.response.data.message,\n              color: \"warning\",\n              icon: \"error\",\n              position: \"bottom-center\",\n            });\n          } else {\n            this.$vs.notify({\n              title: \"Get Blogs\",\n              text: \"Unable to get blogs\",\n              color: \"dark\",\n              icon: \"error\",\n              position: \"bottom-center\",\n            });\n          }\n          this.$store.commit(\"pgLoading\", false);\n        });\n    },\n  },\n};\n",{"version":3,"sources":["Blogs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Blogs.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div v-if=\"!loading\">\n    <h3 class=\"font-bold d-inline\">All Blogs</h3>\n    <vs-button to=\"/add-blog\" color=\"primary\" class=\"ml-5\" type=\"filled\"\n      >Add New</vs-button\n    >\n    <div class=\"mt-5\">\n      <vs-card>\n        <div class=\"p-2\">\n          <div class=\"mb-4\">\n            <p class=\"font-bold lead\">All ({{ blogs.totalRecord }})</p>\n          </div>\n\n          <vs-table\n            id=\"div-with-loading\"\n            max-items=\"10\"\n            :data=\"blogs.records\"\n            search\n          >\n            <template slot=\"thead\">\n              <vs-th> Title </vs-th>\n\n              <vs-th> Synopsis </vs-th>\n              <!-- <vs-th> Tags </vs-th> -->\n              <vs-th> Date </vs-th>\n              <vs-th> Action </vs-th>\n            </template>\n\n            <template slot-scope=\"{ data }\">\n              <vs-tr :key=\"indextr\" v-for=\"(tr, indextr) in data\">\n                <vs-td :data=\"data[indextr].title\">\n                  <router-link to=\"/blog/2\" class=\"font-bold\">\n                    {{ data[indextr].name }}</router-link\n                  >\n                </vs-td>\n\n                <vs-td :data=\"data[indextr].synopsis\">\n                  <span\n                    class=\"text-small\"\n                    v-html=\"data[indextr].synopsis\"\n                  ></span>\n                </vs-td>\n\n                <!-- <vs-td :data=\"data[indextr].synopsis\">\n                  {{ data[indextr].synopsis }}\n                </vs-td> -->\n\n                <vs-td :data=\"data[indextr].id\">\n                  <p class=\"text-small\">Published</p>\n                  {{ data[indextr].date }}\n                </vs-td>\n\n                <vs-td>\n                  <vs-button size=\"small\" class=\"mr-2\">Edit</vs-button>\n                  <vs-button size=\"small\" color=\"dark\">Delete</vs-button>\n                </vs-td>\n              </vs-tr>\n            </template>\n          </vs-table>\n\n          <vs-pagination\n            v-if=\"blogs\"\n            class=\"mt-4\"\n            :total=\"Math.ceil(blogs.totalRecord / 10)\"\n            v-model=\"table_options.current_page\"\n          ></vs-pagination>\n        </div>\n      </vs-card>\n    </div>\n  </div>\n</template>\n<script>\nexport default {\n  computed: {\n    loading() {\n      return this.$store.getters.pgLoading;\n    },\n  },\n  mounted() {\n    this.getBlogs();\n  },\n  data() {\n    return {\n      blogs: [],\n      table_options: {\n        current_page: 1,\n      },\n    };\n  },\n  watch: {\n    \"table_options.current_page\": function () {\n      this.getBlogs(true);\n    },\n  },\n  methods: {\n    getBl() {\n      this.$store.commit(\"pgLoading\", true);\n      this.getBlogs(false);\n    },\n    getBlogs(divLoad) {\n      if (divLoad) {\n        this.$vs.loading({\n          container: \"#div-with-loading\",\n          scale: 0.6,\n        });\n      }\n      let pageNo = this.table_options.current_page;\n      this.$store\n        .dispatch(\"getBlogs\", pageNo)\n        .then((resp) => {\n          this.blogs = resp.data;\n          console.log(resp.data);\n          this.$store.commit(\"pgLoading\", false);\n        })\n        .catch((err) => {\n          if (err.response) {\n            this.$vs.notify({\n              title: \"Get Blogs\",\n              text: err.response.data.message,\n              color: \"warning\",\n              icon: \"error\",\n              position: \"bottom-center\",\n            });\n          } else {\n            this.$vs.notify({\n              title: \"Get Blogs\",\n              text: \"Unable to get blogs\",\n              color: \"dark\",\n              icon: \"error\",\n              position: \"bottom-center\",\n            });\n          }\n          this.$store.commit(\"pgLoading\", false);\n        });\n    },\n  },\n};\n</script>"]}]}