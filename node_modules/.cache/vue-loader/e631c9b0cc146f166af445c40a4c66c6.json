{"remainingRequest":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/Transactions.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/Transactions.vue","mtime":1600553567000},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/babel-loader/lib/index.js","mtime":1596739166622},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js","mtime":1596739192596}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ChartjsComponentLineChart from \"./TransactionComponent/ChartjsComponentLineChart.vue\";\nimport StatisticsCardLine from \"@/components/statistics-cards/StatisticsCardLine.vue\";\n\nexport default {\n  data() {\n    return {\n      allTransactions: \"\",\n      transactionPopUp: false,\n      transactionInfo: [],\n      totalTrans: \"-\",\n      churchID: \"\",\n      memberID: \"\",\n      transactionSingle: {\n        transCostAtCreatedTime: \"\",\n        transCostAmount: \"\",\n        _id: \"\",\n        walletId: \"\",\n        amount: \"\",\n        churchId: {\n          type: \"\",\n          imgx150: \"\",\n          imgx250: \"\",\n          imgx400: \"\",\n          img: \"\",\n          _id: \"\",\n          name: \"\",\n          email: \"\",\n          pastor: \"\",\n          country: \"\"\n        },\n        recursive: \"\",\n        memberId: {\n          imgx75: \"\",\n          imgx150: \"\",\n          imgx250: \"\",\n          img: \"\",\n          _id: \"\",\n          fullName: \"\"\n        },\n        currency: \"\",\n        currencyId: \"\",\n        description: \"\",\n        type: \"\",\n        status: \"\",\n        modeOfPayment: \"\",\n        paymentGateWay: \"\",\n        ip: \"\",\n        txRef: \"\",\n        createdAt: \"\",\n        updatedAt: \"\",\n        __v: \"\",\n        cardId: \"\"\n      },\n      data: {\n        labels: [1500, 1600, 1700, 1750, 1800, 1850, 1900, 1950, 1999, 2050],\n        datasets: [\n          {\n            data: [86, 114, 106, 106, 107, 111, 133, 221, 783, 2478],\n            label: \"Nigeria\",\n            borderColor: \"#fb0e31\",\n            fill: false\n          },\n          {\n            data: [282, 350, 411, 502, 635, 809, 947, 1402, 3700, 5267],\n            label: \"South Africa\",\n            borderColor: \"#23d058\",\n            fill: false\n          },\n          {\n            data: [168, 170, 178, 190, 203, 276, 408, 547, 675, 734],\n            label: \"Gambia\",\n            borderColor: \"#2388de\",\n            fill: false\n          }\n        ]\n      },\n      options: {\n        title: {\n          display: true,\n          text: \"Exalt Global Transactions (in Naira)\"\n        }\n      }\n    };\n  },\n  components: {\n    ChartjsComponentLineChart,\n    StatisticsCardLine\n  },\n  mounted() {\n    this.openLoadingInStats();\n    this.getTransactions();\n  },\n  methods: {\n    openLoadingInStats() {\n      this.$vs.loading({\n        container: \"#statLoading\",\n        scale: 0.6\n      });\n    },\n    getTransactions() {\n      this.$store\n        .dispatch(\"getTransactionAll\")\n        .then(resp => {\n          // console.log(resp.data);\n          this.transactionInfo = resp.data.transaction;\n          this.totalTrans = resp.data.total;\n          this.$vs.loading.close(\"#statLoading > .con-vs-loading\");\n        })\n        .catch(err => {\n          this.$vs.notify({\n            title: \"Load Transactions\",\n            text: \"Unable to Load Transactions Details!\",\n            color: \"danger\"\n          });\n          this.$vs.loading.close(\"#statLoading > .con-vs-loading\");\n        });\n    },\n    viewTransaction(transactionid) {\n      this.transactionPopUp = true;\n      this.transactionSingle = this.transactionInfo.find(\n        transaction => transaction._id == transactionid\n      );\n      this.churchID = this.transactionSingle.churchId;\n      this.memberID = this.transactionSingle.memberId;\n    }\n  }\n};\n",{"version":3,"sources":["Transactions.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuJA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Transactions.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"vx-row\">\n      <div\n        id=\"statLoading\"\n        class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/4 xl:w-1/4 vs-con-loading__container\"\n      >\n        <statistics-card-line\n          hideChart\n          class=\"mb-3\"\n          icon=\"SendIcon\"\n          :statistic=\"totalTrans\"\n          color=\"warning\"\n          statisticTitle=\"Transactions\"\n        />\n        <statistics-card-line\n          hideChart\n          class=\"mb-base\"\n          icon=\"TrendingDownIcon\"\n          statistic=\"12.2k\"\n          statisticTitle=\"Withdrawals\"\n        />\n      </div>\n      <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-3/4 xl:w-3/4\">\n        <vx-card class=\"mb-base\">\n          <div class=\"mt-2\">\n            <chartjs-component-line-chart :height=\"160\" :data=\"data\" :options=\"options\"></chartjs-component-line-chart>\n          </div>\n        </vx-card>\n      </div>\n    </div>\n\n    <vx-card :title=\"'Wallet Transactions'\" class=\"mb-base vs-con-loading__container\">\n      <vs-table id=\"div-with-transactions\" search max-items=\"5\" pagination :data=\"transactionInfo\">\n        <template slot=\"thead\">\n          <!-- <vs-th sort-key=\"email\">Id</vs-th> -->\n          <!-- <vs-th>Id</vs-th> -->\n          <vs-th>Date created</vs-th>\n          <vs-th>Member</vs-th>\n          <vs-th>Description</vs-th>\n          <vs-th>Church</vs-th>\n          <vs-th>Amount</vs-th>\n          <vs-th>Status</vs-th>\n          <vs-th>Type</vs-th>\n          <vs-th>Action</vs-th>\n        </template>\n\n        <template slot-scope=\"{data}\">\n          <vs-tr :key=\"index\" v-for=\"(tr, index) in data\">\n            <!-- <vs-td :data=\"tr.id\">{{ index + 1 }}</vs-td> -->\n            <vs-td :data=\"tr.createdAt\">{{ tr.createdAt | formatDate }}</vs-td>\n            <vs-td :data=\"tr.memberId.fullName\">{{ tr.memberId.fullName | capitalize }}</vs-td>\n            <vs-td :data=\"tr.description\">{{tr.description}}</vs-td>\n            <vs-td :data=\"tr.churchId.name\">{{ tr.churchId.name | capitalize}}</vs-td>\n            <vs-td :data=\"tr.amount\">{{tr.currency}}{{tr.amount | currency('',0)}}</vs-td>\n            <vs-td :data=\"tr.status\">\n              <vs-chip>\n                <span class=\"uppercase\">{{tr.status}}</span>\n              </vs-chip>\n            </vs-td>\n            <vs-td :data=\"tr.type\">\n              <span class=\"capitalize\">{{tr.type}}</span>\n            </vs-td>\n            <vs-td>\n              <vs-button\n                @click=\"viewTransaction(tr._id)\"\n                color=\"primary\"\n                type=\"filled\"\n                size=\"small\"\n                class=\"mr-2 mb-2\"\n              >View</vs-button>\n            </vs-td>\n          </vs-tr>\n        </template>\n      </vs-table>\n    </vx-card>\n\n    <!-- Transaction Pop-up -->\n    <vs-popup class=\"holamundo\" title=\"Transaction Details\" :active.sync=\"transactionPopUp\">\n      <p class=\"mb-4 pl-2\">\n        <span class=\"font-bold\">Date -</span>\n        {{transactionSingle.date | formatDate}}\n      </p>\n\n      <div class=\"vx-row px-2\">\n        <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2\">\n          <div class=\"walletinfocard\">\n            <h3\n              class=\"font-bold\"\n            >{{transactionSingle.currency}} {{transactionSingle.amount | currency('',0)}}</h3>\n            <p class=\"text-danger\">Total</p>\n          </div>\n        </div>\n        <div class=\"vx-col w-full sm:w-1/2 md:w-1/2 lg:w-1/2 xl:w-1/2\">\n          <div class=\"walletinfocard\">\n            <vs-list-item :title=\"memberID.fullName\" subtitle=\"Member\">\n              <template slot=\"avatar\">\n                <vs-avatar :src=\"'https://d2meuqd6gjekk6.cloudfront.net/'+memberID.imgx150\" />\n              </template>\n            </vs-list-item>\n          </div>\n        </div>\n      </div>\n      <div class=\"vx-row px-2 mt-3\">\n        <div class=\"vx-col w-full\">\n          <div class=\"walletinfocard\">\n            <vs-list-item :title=\"churchID.name\" :subtitle=\"churchID.email\">\n              <template slot=\"avatar\">\n                <img\n                  width=\"50\"\n                  class=\"pr-2\"\n                  :src=\"'https://d2meuqd6gjekk6.cloudfront.net/'+churchID.imgx150\"\n                />\n              </template>\n            </vs-list-item>\n          </div>\n        </div>\n      </div>\n      <vs-list>\n        <div class=\"mb-5 mt-3\">\n          <vs-list-header title=\"Church Information\"></vs-list-header>\n          <vs-list-item title=\"Church name\" :subtitle=\"churchID.name\"></vs-list-item>\n          <vs-list-item title=\"Email\" :subtitle=\"churchID.email\"></vs-list-item>\n          <vs-list-item title=\"Pastor\" :subtitle=\"churchID.pastor\"></vs-list-item>\n          <vs-list-item title=\"Country\" :subtitle=\"churchID.country\"></vs-list-item>\n\n          <vs-list-header title=\"Transaction Information\"></vs-list-header>\n          <vs-list-item title=\"Description\" :subtitle=\"transactionSingle.description\"></vs-list-item>\n          <vs-list-item title=\"Type\" :subtitle=\"transactionSingle.type | capitalize\"></vs-list-item>\n          <vs-list-item title=\"Status\" :subtitle=\"transactionSingle.status | capitalize\"></vs-list-item>\n          <vs-list-item\n            title=\"Mode of Payment\"\n            :subtitle=\"transactionSingle.modeOfPayment | capitalize\"\n          ></vs-list-item>\n          <vs-list-item\n            title=\"Payment Gateway\"\n            :subtitle=\"transactionSingle.paymentGateWay | capitalize\"\n          ></vs-list-item>\n          <vs-list-item title=\"Transaction Reference\" :subtitle=\"transactionSingle.txRef\"></vs-list-item>\n          <vs-list-item title=\"Transaction Cost\" :subtitle=\"transactionSingle.transCostAmount\"></vs-list-item>\n          <vs-list-item\n            title=\"Payment Gateway\"\n            :subtitle=\"transactionSingle.paymentGateWay | capitalize\"\n          ></vs-list-item>\n          <vs-list-item title=\"Card ID\" :subtitle=\"transactionSingle.cardId\"></vs-list-item>\n        </div>\n      </vs-list>\n    </vs-popup>\n  </div>\n</template>\n<script>\nimport ChartjsComponentLineChart from \"./TransactionComponent/ChartjsComponentLineChart.vue\";\nimport StatisticsCardLine from \"@/components/statistics-cards/StatisticsCardLine.vue\";\n\nexport default {\n  data() {\n    return {\n      allTransactions: \"\",\n      transactionPopUp: false,\n      transactionInfo: [],\n      totalTrans: \"-\",\n      churchID: \"\",\n      memberID: \"\",\n      transactionSingle: {\n        transCostAtCreatedTime: \"\",\n        transCostAmount: \"\",\n        _id: \"\",\n        walletId: \"\",\n        amount: \"\",\n        churchId: {\n          type: \"\",\n          imgx150: \"\",\n          imgx250: \"\",\n          imgx400: \"\",\n          img: \"\",\n          _id: \"\",\n          name: \"\",\n          email: \"\",\n          pastor: \"\",\n          country: \"\"\n        },\n        recursive: \"\",\n        memberId: {\n          imgx75: \"\",\n          imgx150: \"\",\n          imgx250: \"\",\n          img: \"\",\n          _id: \"\",\n          fullName: \"\"\n        },\n        currency: \"\",\n        currencyId: \"\",\n        description: \"\",\n        type: \"\",\n        status: \"\",\n        modeOfPayment: \"\",\n        paymentGateWay: \"\",\n        ip: \"\",\n        txRef: \"\",\n        createdAt: \"\",\n        updatedAt: \"\",\n        __v: \"\",\n        cardId: \"\"\n      },\n      data: {\n        labels: [1500, 1600, 1700, 1750, 1800, 1850, 1900, 1950, 1999, 2050],\n        datasets: [\n          {\n            data: [86, 114, 106, 106, 107, 111, 133, 221, 783, 2478],\n            label: \"Nigeria\",\n            borderColor: \"#fb0e31\",\n            fill: false\n          },\n          {\n            data: [282, 350, 411, 502, 635, 809, 947, 1402, 3700, 5267],\n            label: \"South Africa\",\n            borderColor: \"#23d058\",\n            fill: false\n          },\n          {\n            data: [168, 170, 178, 190, 203, 276, 408, 547, 675, 734],\n            label: \"Gambia\",\n            borderColor: \"#2388de\",\n            fill: false\n          }\n        ]\n      },\n      options: {\n        title: {\n          display: true,\n          text: \"Exalt Global Transactions (in Naira)\"\n        }\n      }\n    };\n  },\n  components: {\n    ChartjsComponentLineChart,\n    StatisticsCardLine\n  },\n  mounted() {\n    this.openLoadingInStats();\n    this.getTransactions();\n  },\n  methods: {\n    openLoadingInStats() {\n      this.$vs.loading({\n        container: \"#statLoading\",\n        scale: 0.6\n      });\n    },\n    getTransactions() {\n      this.$store\n        .dispatch(\"getTransactionAll\")\n        .then(resp => {\n          // console.log(resp.data);\n          this.transactionInfo = resp.data.transaction;\n          this.totalTrans = resp.data.total;\n          this.$vs.loading.close(\"#statLoading > .con-vs-loading\");\n        })\n        .catch(err => {\n          this.$vs.notify({\n            title: \"Load Transactions\",\n            text: \"Unable to Load Transactions Details!\",\n            color: \"danger\"\n          });\n          this.$vs.loading.close(\"#statLoading > .con-vs-loading\");\n        });\n    },\n    viewTransaction(transactionid) {\n      this.transactionPopUp = true;\n      this.transactionSingle = this.transactionInfo.find(\n        transaction => transaction._id == transactionid\n      );\n      this.churchID = this.transactionSingle.churchId;\n      this.memberID = this.transactionSingle.memberId;\n    }\n  }\n};\n</script>\n"]}]}