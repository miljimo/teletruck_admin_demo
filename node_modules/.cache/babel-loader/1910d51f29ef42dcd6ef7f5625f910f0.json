{"remainingRequest":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Teletruck Admin/node_modules/babel-loader/lib/index.js!/Users/adeniranopeyemi/Documents/Horpey/Projects/Teletruck Admin/src/store/actions.js","dependencies":[{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Teletruck Admin/src/store/actions.js","mtime":1617913754902},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Teletruck Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Teletruck Admin/node_modules/babel-loader/lib/index.js","mtime":1596739166622}],"contextDependencies":[],"result":["import axios from \"@/axios.js\";\nvar actions = {\n  // /////////////////////////////////////////////\n  // COMPONENTS\n  // /////////////////////////////////////////////\n  // Vertical NavMenu\n  updateVerticalNavMenuWidth: function updateVerticalNavMenuWidth(_ref, width) {\n    var commit = _ref.commit,\n        dispatch = _ref.dispatch;\n    commit(\"UPDATE_VERTICAL_NAV_MENU_WIDTH\", width);\n  },\n  // VxAutoSuggest\n  updateStarredPage: function updateStarredPage(_ref2, payload) {\n    var commit = _ref2.commit,\n        dispatch = _ref2.dispatch;\n    commit(\"UPDATE_STARRED_PAGE\", payload);\n  },\n  // The Navbar\n  arrangeStarredPagesLimited: function arrangeStarredPagesLimited(_ref3, list) {\n    var commit = _ref3.commit,\n        dispatch = _ref3.dispatch;\n    commit(\"ARRANGE_STARRED_PAGES_LIMITED\", list);\n  },\n  arrangeStarredPagesMore: function arrangeStarredPagesMore(_ref4, list) {\n    var commit = _ref4.commit,\n        dispatch = _ref4.dispatch;\n    commit(\"ARRANGE_STARRED_PAGES_MORE\", list);\n  },\n  // /////////////////////////////////////////////\n  // UI\n  // /////////////////////////////////////////////\n  toggleContentOverlay: function toggleContentOverlay(_ref5) {\n    var commit = _ref5.commit,\n        dispatch = _ref5.dispatch;\n    commit(\"TOGGLE_CONTENT_OVERLAY\");\n  },\n  updateTheme: function updateTheme(_ref6, val) {\n    var commit = _ref6.commit,\n        dispatch = _ref6.dispatch;\n    commit(\"UPDATE_THEME\", val);\n  },\n  // /////////////////////////////////////////////\n  // User/Account\n  // /////////////////////////////////////////////\n  updateUserInfo: function updateUserInfo(_ref7, payload) {\n    var commit = _ref7.commit,\n        dispatch = _ref7.dispatch;\n    commit(\"UPDATE_USER_INFO\", payload);\n  },\n  // Actions\n  getContentsDetail: function getContentsDetail(_ref8, fetch) {\n    var commit = _ref8.commit,\n        dispatch = _ref8.dispatch,\n        getters = _ref8.getters;\n    return new Promise(function (resolve, reject) {\n      var userToken = getters.token;\n      axios({\n        url: \"\".concat(fetch.path),\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \".concat(userToken)\n        }\n      }).then(function (resp) {\n        resolve(resp);\n      }).catch(function (err) {\n        if (err.response) {\n          if (err.response.status === 401 || err.response.status === 406 || err.response.status === 403) {\n            dispatch(\"logout\");\n          }\n        }\n\n        reject(err);\n      });\n    });\n  },\n  getContents: function getContents(_ref9, fetch) {\n    var commit = _ref9.commit,\n        dispatch = _ref9.dispatch,\n        getters = _ref9.getters;\n    return new Promise(function (resolve, reject) {\n      var userToken = getters.token;\n      axios({\n        url: \"\".concat(fetch.path, \"?&page=\").concat(fetch.pageNo),\n        method: \"GET\",\n        headers: {\n          Authorization: \"Bearer \".concat(userToken)\n        }\n      }).then(function (resp) {\n        resolve(resp);\n      }).catch(function (err) {\n        if (err.response) {\n          if (err.response.status === 401 || err.response.status === 406 || err.response.status === 403) {\n            dispatch(\"logout\");\n          }\n        }\n\n        reject(err);\n      });\n    });\n  },\n  addContent: function addContent(_ref10, content) {\n    var commit = _ref10.commit,\n        dispatch = _ref10.dispatch,\n        getters = _ref10.getters;\n    return new Promise(function (resolve, reject) {\n      var userToken = getters.token;\n      axios({\n        url: \"content/\".concat(content.path, \"/add\"),\n        data: content.data,\n        method: \"POST\",\n        headers: {\n          Authorization: \"Bearer \".concat(userToken)\n        }\n      }).then(function (resp) {\n        resolve(resp);\n      }).catch(function (err) {\n        if (err.response) {\n          if (err.response.status === 401 || err.response.status === 406 || err.response.status === 403) {\n            dispatch(\"logout\");\n          }\n        }\n\n        reject(err);\n      });\n    });\n  },\n  login: function login(_ref11, data) {\n    var commit = _ref11.commit,\n        dispatch = _ref11.dispatch;\n    return new Promise(function (resolve, reject) {\n      commit(\"auth_request\");\n      axios({\n        url: \"auth/login\",\n        data: data,\n        method: \"POST\"\n      }).then(function (resp) {\n        resolve(resp);\n      }).catch(function (err) {\n        reject(err);\n      });\n    });\n  },\n  logout: function logout(_ref12) {\n    var commit = _ref12.commit,\n        dispatch = _ref12.dispatch;\n    return new Promise(function (resolve, reject) {\n      commit(\"logout\");\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      localStorage.removeItem(\"userRole\");\n      localStorage.removeItem(\"adminData\");\n      delete axios.defaults.headers.common[\"Authorization\"];\n      location.reload();\n      resolve();\n    });\n  }\n};\nexport default actions;",{"version":3,"sources":["/Users/adeniranopeyemi/Documents/Horpey/Projects/Teletruck Admin/src/store/actions.js"],"names":["axios","actions","updateVerticalNavMenuWidth","width","commit","dispatch","updateStarredPage","payload","arrangeStarredPagesLimited","list","arrangeStarredPagesMore","toggleContentOverlay","updateTheme","val","updateUserInfo","getContentsDetail","fetch","getters","Promise","resolve","reject","userToken","token","url","path","method","headers","Authorization","then","resp","catch","err","response","status","getContents","pageNo","addContent","content","data","login","logout","localStorage","removeItem","defaults","common","location","reload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,YAAlB;AAEA,IAAMC,OAAO,GAAG;AACd;AACA;AACA;AAEA;AACAC,EAAAA,0BANc,4CAMmCC,KANnC,EAM0C;AAAA,QAA3BC,MAA2B,QAA3BA,MAA2B;AAAA,QAAnBC,QAAmB,QAAnBA,QAAmB;AACtDD,IAAAA,MAAM,CAAC,gCAAD,EAAmCD,KAAnC,CAAN;AACD,GARa;AAUd;AACAG,EAAAA,iBAXc,oCAW0BC,OAX1B,EAWmC;AAAA,QAA7BH,MAA6B,SAA7BA,MAA6B;AAAA,QAArBC,QAAqB,SAArBA,QAAqB;AAC/CD,IAAAA,MAAM,CAAC,qBAAD,EAAwBG,OAAxB,CAAN;AACD,GAba;AAed;AACAC,EAAAA,0BAhBc,6CAgBmCC,IAhBnC,EAgByC;AAAA,QAA1BL,MAA0B,SAA1BA,MAA0B;AAAA,QAAlBC,QAAkB,SAAlBA,QAAkB;AACrDD,IAAAA,MAAM,CAAC,+BAAD,EAAkCK,IAAlC,CAAN;AACD,GAlBa;AAmBdC,EAAAA,uBAnBc,0CAmBgCD,IAnBhC,EAmBsC;AAAA,QAA1BL,MAA0B,SAA1BA,MAA0B;AAAA,QAAlBC,QAAkB,SAAlBA,QAAkB;AAClDD,IAAAA,MAAM,CAAC,4BAAD,EAA+BK,IAA/B,CAAN;AACD,GArBa;AAuBd;AACA;AACA;AAEAE,EAAAA,oBA3Bc,uCA2B6B;AAAA,QAApBP,MAAoB,SAApBA,MAAoB;AAAA,QAAZC,QAAY,SAAZA,QAAY;AACzCD,IAAAA,MAAM,CAAC,wBAAD,CAAN;AACD,GA7Ba;AA8BdQ,EAAAA,WA9Bc,8BA8BoBC,GA9BpB,EA8ByB;AAAA,QAAzBT,MAAyB,SAAzBA,MAAyB;AAAA,QAAjBC,QAAiB,SAAjBA,QAAiB;AACrCD,IAAAA,MAAM,CAAC,cAAD,EAAiBS,GAAjB,CAAN;AACD,GAhCa;AAkCd;AACA;AACA;AAEAC,EAAAA,cAtCc,iCAsCuBP,OAtCvB,EAsCgC;AAAA,QAA7BH,MAA6B,SAA7BA,MAA6B;AAAA,QAArBC,QAAqB,SAArBA,QAAqB;AAC5CD,IAAAA,MAAM,CAAC,kBAAD,EAAqBG,OAArB,CAAN;AACD,GAxCa;AA0Cd;AACAQ,EAAAA,iBA3Cc,oCA2CmCC,KA3CnC,EA2C0C;AAAA,QAApCZ,MAAoC,SAApCA,MAAoC;AAAA,QAA5BC,QAA4B,SAA5BA,QAA4B;AAAA,QAAlBY,OAAkB,SAAlBA,OAAkB;AACtD,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAMC,SAAS,GAAGJ,OAAO,CAACK,KAA1B;AACAtB,MAAAA,KAAK,CAAC;AACJuB,QAAAA,GAAG,YAAKP,KAAK,CAACQ,IAAX,CADC;AAEJC,QAAAA,MAAM,EAAE,KAFJ;AAGJC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,mBAAYN,SAAZ;AADN;AAHL,OAAD,CAAL,CAOGO,IAPH,CAOQ,UAACC,IAAD,EAAU;AACdV,QAAAA,OAAO,CAACU,IAAD,CAAP;AACD,OATH,EAUGC,KAVH,CAUS,UAACC,GAAD,EAAS;AACd,YAAIA,GAAG,CAACC,QAAR,EAAkB;AAChB,cACED,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAAxB,IACAF,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GADxB,IAEAF,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAH1B,EAIE;AACA5B,YAAAA,QAAQ,CAAC,QAAD,CAAR;AACD;AACF;;AACDe,QAAAA,MAAM,CAACW,GAAD,CAAN;AACD,OArBH;AAsBD,KAxBM,CAAP;AAyBD,GArEa;AAsEdG,EAAAA,WAtEc,8BAsE6BlB,KAtE7B,EAsEoC;AAAA,QAApCZ,MAAoC,SAApCA,MAAoC;AAAA,QAA5BC,QAA4B,SAA5BA,QAA4B;AAAA,QAAlBY,OAAkB,SAAlBA,OAAkB;AAChD,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAMC,SAAS,GAAGJ,OAAO,CAACK,KAA1B;AACAtB,MAAAA,KAAK,CAAC;AACJuB,QAAAA,GAAG,YAAKP,KAAK,CAACQ,IAAX,oBAAyBR,KAAK,CAACmB,MAA/B,CADC;AAEJV,QAAAA,MAAM,EAAE,KAFJ;AAGJC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,mBAAYN,SAAZ;AADN;AAHL,OAAD,CAAL,CAOGO,IAPH,CAOQ,UAACC,IAAD,EAAU;AACdV,QAAAA,OAAO,CAACU,IAAD,CAAP;AACD,OATH,EAUGC,KAVH,CAUS,UAACC,GAAD,EAAS;AACd,YAAIA,GAAG,CAACC,QAAR,EAAkB;AAChB,cACED,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAAxB,IACAF,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GADxB,IAEAF,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAH1B,EAIE;AACA5B,YAAAA,QAAQ,CAAC,QAAD,CAAR;AACD;AACF;;AACDe,QAAAA,MAAM,CAACW,GAAD,CAAN;AACD,OArBH;AAsBD,KAxBM,CAAP;AAyBD,GAhGa;AAkGdK,EAAAA,UAlGc,8BAkG4BC,OAlG5B,EAkGqC;AAAA,QAAtCjC,MAAsC,UAAtCA,MAAsC;AAAA,QAA9BC,QAA8B,UAA9BA,QAA8B;AAAA,QAApBY,OAAoB,UAApBA,OAAoB;AACjD,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,UAAMC,SAAS,GAAGJ,OAAO,CAACK,KAA1B;AACAtB,MAAAA,KAAK,CAAC;AACJuB,QAAAA,GAAG,oBAAac,OAAO,CAACb,IAArB,SADC;AAEJc,QAAAA,IAAI,EAAED,OAAO,CAACC,IAFV;AAGJb,QAAAA,MAAM,EAAE,MAHJ;AAIJC,QAAAA,OAAO,EAAE;AACPC,UAAAA,aAAa,mBAAYN,SAAZ;AADN;AAJL,OAAD,CAAL,CAQGO,IARH,CAQQ,UAACC,IAAD,EAAU;AACdV,QAAAA,OAAO,CAACU,IAAD,CAAP;AACD,OAVH,EAWGC,KAXH,CAWS,UAACC,GAAD,EAAS;AACd,YAAIA,GAAG,CAACC,QAAR,EAAkB;AAChB,cACED,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAAxB,IACAF,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GADxB,IAEAF,GAAG,CAACC,QAAJ,CAAaC,MAAb,KAAwB,GAH1B,EAIE;AACA5B,YAAAA,QAAQ,CAAC,QAAD,CAAR;AACD;AACF;;AACDe,QAAAA,MAAM,CAACW,GAAD,CAAN;AACD,OAtBH;AAuBD,KAzBM,CAAP;AA0BD,GA7Ha;AA8HdQ,EAAAA,KA9Hc,yBA8HcD,IA9Hd,EA8HoB;AAAA,QAA1BlC,MAA0B,UAA1BA,MAA0B;AAAA,QAAlBC,QAAkB,UAAlBA,QAAkB;AAChC,WAAO,IAAIa,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtChB,MAAAA,MAAM,CAAC,cAAD,CAAN;AACAJ,MAAAA,KAAK,CAAC;AACJuB,QAAAA,GAAG,EAAE,YADD;AAEJe,QAAAA,IAAI,EAAEA,IAFF;AAGJb,QAAAA,MAAM,EAAE;AAHJ,OAAD,CAAL,CAKGG,IALH,CAKQ,UAACC,IAAD,EAAU;AACdV,QAAAA,OAAO,CAACU,IAAD,CAAP;AACD,OAPH,EAQGC,KARH,CAQS,UAACC,GAAD,EAAS;AACdX,QAAAA,MAAM,CAACW,GAAD,CAAN;AACD,OAVH;AAWD,KAbM,CAAP;AAcD,GA7Ia;AA8IdS,EAAAA,MA9Ic,0BA8Ie;AAAA,QAApBpC,MAAoB,UAApBA,MAAoB;AAAA,QAAZC,QAAY,UAAZA,QAAY;AAC3B,WAAO,IAAIa,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtChB,MAAAA,MAAM,CAAC,QAAD,CAAN;AACAqC,MAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,MAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,UAAxB;AACAD,MAAAA,YAAY,CAACC,UAAb,CAAwB,WAAxB;AAEA,aAAO1C,KAAK,CAAC2C,QAAN,CAAejB,OAAf,CAAuBkB,MAAvB,CAA8B,eAA9B,CAAP;AACAC,MAAAA,QAAQ,CAACC,MAAT;AACA3B,MAAAA,OAAO;AACR,KAVM,CAAP;AAWD;AA1Ja,CAAhB;AA6JA,eAAelB,OAAf","sourcesContent":["import axios from \"@/axios.js\";\n\nconst actions = {\n  // /////////////////////////////////////////////\n  // COMPONENTS\n  // /////////////////////////////////////////////\n\n  // Vertical NavMenu\n  updateVerticalNavMenuWidth({ commit, dispatch }, width) {\n    commit(\"UPDATE_VERTICAL_NAV_MENU_WIDTH\", width);\n  },\n\n  // VxAutoSuggest\n  updateStarredPage({ commit, dispatch }, payload) {\n    commit(\"UPDATE_STARRED_PAGE\", payload);\n  },\n\n  // The Navbar\n  arrangeStarredPagesLimited({ commit, dispatch }, list) {\n    commit(\"ARRANGE_STARRED_PAGES_LIMITED\", list);\n  },\n  arrangeStarredPagesMore({ commit, dispatch }, list) {\n    commit(\"ARRANGE_STARRED_PAGES_MORE\", list);\n  },\n\n  // /////////////////////////////////////////////\n  // UI\n  // /////////////////////////////////////////////\n\n  toggleContentOverlay({ commit, dispatch }) {\n    commit(\"TOGGLE_CONTENT_OVERLAY\");\n  },\n  updateTheme({ commit, dispatch }, val) {\n    commit(\"UPDATE_THEME\", val);\n  },\n\n  // /////////////////////////////////////////////\n  // User/Account\n  // /////////////////////////////////////////////\n\n  updateUserInfo({ commit, dispatch }, payload) {\n    commit(\"UPDATE_USER_INFO\", payload);\n  },\n\n  // Actions\n  getContentsDetail({ commit, dispatch, getters }, fetch) {\n    return new Promise((resolve, reject) => {\n      const userToken = getters.token;\n      axios({\n        url: `${fetch.path}`,\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${userToken}`,\n        },\n      })\n        .then((resp) => {\n          resolve(resp);\n        })\n        .catch((err) => {\n          if (err.response) {\n            if (\n              err.response.status === 401 ||\n              err.response.status === 406 ||\n              err.response.status === 403\n            ) {\n              dispatch(\"logout\");\n            }\n          }\n          reject(err);\n        });\n    });\n  },\n  getContents({ commit, dispatch, getters }, fetch) {\n    return new Promise((resolve, reject) => {\n      const userToken = getters.token;\n      axios({\n        url: `${fetch.path}?&page=${fetch.pageNo}`,\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${userToken}`,\n        },\n      })\n        .then((resp) => {\n          resolve(resp);\n        })\n        .catch((err) => {\n          if (err.response) {\n            if (\n              err.response.status === 401 ||\n              err.response.status === 406 ||\n              err.response.status === 403\n            ) {\n              dispatch(\"logout\");\n            }\n          }\n          reject(err);\n        });\n    });\n  },\n\n  addContent({ commit, dispatch, getters }, content) {\n    return new Promise((resolve, reject) => {\n      const userToken = getters.token;\n      axios({\n        url: `content/${content.path}/add`,\n        data: content.data,\n        method: \"POST\",\n        headers: {\n          Authorization: `Bearer ${userToken}`,\n        },\n      })\n        .then((resp) => {\n          resolve(resp);\n        })\n        .catch((err) => {\n          if (err.response) {\n            if (\n              err.response.status === 401 ||\n              err.response.status === 406 ||\n              err.response.status === 403\n            ) {\n              dispatch(\"logout\");\n            }\n          }\n          reject(err);\n        });\n    });\n  },\n  login({ commit, dispatch }, data) {\n    return new Promise((resolve, reject) => {\n      commit(\"auth_request\");\n      axios({\n        url: \"auth/login\",\n        data: data,\n        method: \"POST\",\n      })\n        .then((resp) => {\n          resolve(resp);\n        })\n        .catch((err) => {\n          reject(err);\n        });\n    });\n  },\n  logout({ commit, dispatch }) {\n    return new Promise((resolve, reject) => {\n      commit(\"logout\");\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"user\");\n      localStorage.removeItem(\"userRole\");\n      localStorage.removeItem(\"adminData\");\n\n      delete axios.defaults.headers.common[\"Authorization\"];\n      location.reload();\n      resolve();\n    });\n  },\n};\n\nexport default actions;\n"]}]}