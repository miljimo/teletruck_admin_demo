{"remainingRequest":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/babel-loader/lib/index.js!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/Calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/Calendar.vue","mtime":1600553567000},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/babel-loader/lib/index.js","mtime":1596739166622},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js","mtime":1596739192596}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { CalendarView, CalendarViewHeader } from \"vue-simple-calendar\";\nimport moduleCalendar from \"@/store/calendar/moduleCalendar.js\";\n\nrequire(\"vue-simple-calendar/static/css/default.css\");\n\nimport Datepicker from \"vuejs-datepicker\";\nimport { en, he } from \"vuejs-datepicker/src/locale\";\nexport default {\n  components: {\n    CalendarView: CalendarView,\n    CalendarViewHeader: CalendarViewHeader,\n    Datepicker: Datepicker\n  },\n  data: function data() {\n    return {\n      showDate: new Date(),\n      disabledFrom: false,\n      id: 0,\n      title: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      labelLocal: \"none\",\n      langHe: he,\n      langEn: en,\n      url: \"\",\n      calendarView: \"month\",\n      activePromptAddEvent: false,\n      activePromptEditEvent: false,\n      calendarViewTypes: [{\n        label: \"Month\",\n        val: \"month\"\n      }, {\n        label: \"Week\",\n        val: \"week\"\n      }, {\n        label: \"Year\",\n        val: \"year\"\n      }]\n    };\n  },\n  computed: {\n    simpleCalendarEvents: function simpleCalendarEvents() {\n      return this.$store.state.calendar.events;\n    },\n    validForm: function validForm() {\n      return this.title !== \"\" && this.startDate !== \"\" && this.endDate !== \"\" && Date.parse(this.endDate) - Date.parse(this.startDate) >= 0 && !this.errors.has(\"event-url\");\n    },\n    disabledDatesTo: function disabledDatesTo() {\n      return {\n        to: new Date(this.startDate)\n      };\n    },\n    disabledDatesFrom: function disabledDatesFrom() {\n      return {\n        from: new Date(this.endDate)\n      };\n    },\n    calendarLabels: function calendarLabels() {\n      return this.$store.state.calendar.eventLabels;\n    },\n    labelColor: function labelColor() {\n      return function (label) {\n        if (label === \"business\") return \"success\";else if (label === \"work\") return \"warning\";else if (label === \"personal\") return \"danger\";else if (label === \"none\") return \"primary\";\n      };\n    },\n    windowWidth: function windowWidth() {\n      return this.$store.state.windowWidth;\n    }\n  },\n  methods: {\n    addEvent: function addEvent() {\n      var obj = {\n        title: this.title,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        label: this.labelLocal,\n        url: this.url\n      };\n      obj.classes = \"event-\".concat(this.labelColor(this.labelLocal));\n      this.$store.dispatch(\"calendar/addEvent\", obj);\n    },\n    updateMonth: function updateMonth(val) {\n      this.showDate = this.$refs.calendar.getIncrementedPeriod(val);\n    },\n    clearFields: function clearFields() {\n      this.title = this.endDate = this.url = \"\";\n      this.id = 0;\n      this.labelLocal = \"none\";\n    },\n    promptAddNewEvent: function promptAddNewEvent(date) {\n      this.disabledFrom = false;\n      this.addNewEventDialog(date);\n    },\n    addNewEventDialog: function addNewEventDialog(date) {\n      this.clearFields();\n      this.startDate = date;\n      this.endDate = date;\n      this.activePromptAddEvent = true;\n    },\n    openAddNewEvent: function openAddNewEvent(date) {\n      this.disabledFrom = true;\n      this.addNewEventDialog(date);\n    },\n    openEditEvent: function openEditEvent(event) {\n      var e = this.$store.getters[\"calendar/getEvent\"](event.id);\n      this.id = e.id;\n      this.title = e.title;\n      this.startDate = e.startDate;\n      this.endDate = e.endDate;\n      this.url = e.url;\n      this.labelLocal = e.label;\n      this.activePromptEditEvent = true;\n    },\n    editEvent: function editEvent() {\n      var obj = {\n        id: this.id,\n        title: this.title,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        label: this.labelLocal,\n        url: this.url\n      };\n      obj.classes = \"event-\".concat(this.labelColor(this.labelLocal));\n      this.$store.dispatch(\"calendar/editEvent\", obj);\n    },\n    removeEvent: function removeEvent() {\n      this.$store.dispatch(\"calendar/removeEvent\", this.id);\n    },\n    eventDragged: function eventDragged(event, date) {\n      this.$store.dispatch(\"calendar/eventDragged\", {\n        event: event,\n        date: date\n      });\n    }\n  },\n  created: function created() {\n    this.$store.registerModule(\"calendar\", moduleCalendar);\n    this.$store.dispatch(\"calendar/fetchEvents\");\n    this.$store.dispatch(\"calendar/fetchEventLabels\");\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.$store.unregisterModule(\"calendar\");\n  }\n};",{"version":3,"sources":["Calendar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"simple-calendar-app\">\n    <div class=\"vx-card no-scroll-content\">\n      <calendar-view\n        ref=\"calendar\"\n        :displayPeriodUom=\"calendarView\"\n        :show-date=\"showDate\"\n        :events=\"simpleCalendarEvents\"\n        enableDragDrop\n        :eventTop=\"windowWidth <= 400 ? '2rem' : '3rem'\"\n        eventBorderHeight=\"0px\"\n        eventContentHeight=\"1.65rem\"\n        class=\"theme-default\"\n        @click-date=\"openAddNewEvent\"\n        @click-event=\"openEditEvent\"\n        @drop-on-date=\"eventDragged\"\n      >\n        <div slot=\"header\" class=\"mb-4\">\n          <div class=\"vx-row no-gutter\">\n            <!-- Month Name -->\n            <div class=\"vx-col w-1/3 items-center sm:flex hidden\">\n              <!-- Add new event button -->\n              <vs-button\n                icon-pack=\"feather\"\n                icon=\"icon-plus\"\n                @click=\"promptAddNewEvent(new Date())\"\n              >Add</vs-button>\n            </div>\n\n            <!-- Current Month -->\n            <div\n              class=\"vx-col sm:w-1/3 w-full sm:my-0 my-3 flex sm:justify-end justify-center order-last\"\n            >\n              <div class=\"flex items-center\">\n                <feather-icon\n                  :icon=\"$vs.rtl ? 'ChevronRightIcon' : 'ChevronLeftIcon'\"\n                  @click=\"updateMonth(-1)\"\n                  svgClasses=\"w-5 h-5 m-1\"\n                  class=\"cursor-pointer bg-primary text-white rounded-full\"\n                />\n\n                <span class=\"mx-3 text-xl font-medium whitespace-no-wrap\">{{ showDate | month }}</span>\n\n                <feather-icon\n                  :icon=\"$vs.rtl ? 'ChevronLeftIcon' : 'ChevronRightIcon'\"\n                  @click=\"updateMonth(1)\"\n                  svgClasses=\"w-5 h-5 m-1\"\n                  class=\"cursor-pointer bg-primary text-white rounded-full\"\n                />\n              </div>\n            </div>\n\n            <div class=\"vx-col sm:w-1/3 w-full flex justify-center\">\n              <template v-for=\"(view, index) in calendarViewTypes\">\n                <vs-button\n                  v-if=\"calendarView === view.val\"\n                  :key=\"String(view.val) + 'filled'\"\n                  type=\"filled\"\n                  class=\"p-3 md:px-8 md:py-3\"\n                  :class=\"{'border-l-0 rounded-l-none': index, 'rounded-r-none': calendarViewTypes.length !== index+1}\"\n                  @click=\"calendarView = view.val\"\n                >{{ view.label }}</vs-button>\n                <vs-button\n                  v-else\n                  :key=\"String(view.val) + 'border'\"\n                  type=\"border\"\n                  class=\"p-3 md:px-8 md:py-3\"\n                  :class=\"{'border-l-0 rounded-l-none': index, 'rounded-r-none': calendarViewTypes.length !== index+1}\"\n                  @click=\"calendarView = view.val\"\n                >{{ view.label }}</vs-button>\n              </template>\n            </div>\n          </div>\n\n          <div class=\"vx-row sm:flex hidden mt-4\">\n            <div class=\"vx-col w-full flex\">\n              <!-- Labels -->\n              <div class=\"flex flex-wrap sm:justify-start justify-center\">\n                <div\n                  v-for=\"(label, index) in calendarLabels\"\n                  :key=\"index\"\n                  class=\"flex items-center mr-4 mb-2\"\n                >\n                  <div class=\"h-3 w-3 inline-block rounded-full mr-2\" :class=\"'bg-' + label.color\"></div>\n                  <span>{{ label.text }}</span>\n                </div>\n                <div class=\"flex items-center mr-4 mb-2\">\n                  <div class=\"h-3 w-3 inline-block rounded-full mr-2 bg-primary\"></div>\n                  <span>None</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </calendar-view>\n    </div>\n\n    <!-- ADD EVENT -->\n    <vs-prompt\n      class=\"calendar-event-dialog\"\n      title=\"Add Event\"\n      accept-text=\"Add Event\"\n      @accept=\"addEvent\"\n      :is-valid=\"validForm\"\n      :active.sync=\"activePromptAddEvent\"\n    >\n      <div class=\"calendar__label-container flex\">\n        <vs-chip\n          v-if=\"labelLocal != 'none'\"\n          class=\"text-white\"\n          :class=\"'bg-' + labelColor(labelLocal)\"\n        >{{ labelLocal }}</vs-chip>\n\n        <vs-dropdown vs-custom-content vs-trigger-click class=\"ml-auto my-2 cursor-pointer\">\n          <feather-icon icon=\"TagIcon\" svgClasses=\"h-5 w-5\" class=\"cursor-pointer\" @click.prevent></feather-icon>\n\n          <vs-dropdown-menu style=\"z-index: 200001\">\n            <vs-dropdown-item\n              v-for=\"(label, index) in calendarLabels\"\n              :key=\"index\"\n              @click=\"labelLocal = label.value\"\n            >\n              <div class=\"h-3 w-3 inline-block rounded-full mr-2\" :class=\"'bg-' + label.color\"></div>\n              <span>{{ label.text }}</span>\n            </vs-dropdown-item>\n\n            <vs-dropdown-item @click=\"labelLocal = 'none'\">\n              <div class=\"h-3 w-3 mr-1 inline-block rounded-full mr-2 bg-primary\"></div>\n              <span>None</span>\n            </vs-dropdown-item>\n          </vs-dropdown-menu>\n        </vs-dropdown>\n      </div>\n\n      <vs-input\n        name=\"event-name\"\n        v-validate=\"'required'\"\n        class=\"w-full\"\n        label-placeholder=\"Event Title\"\n        v-model=\"title\"\n      ></vs-input>\n      <div class=\"my-4\">\n        <small class=\"date-label\">Start Date</small>\n        <datepicker\n          :language=\"$vs.rtl ? langHe : langEn\"\n          name=\"start-date\"\n          v-model=\"startDate\"\n          :disabled=\"disabledFrom\"\n        ></datepicker>\n      </div>\n      <div class=\"my-4\">\n        <small class=\"date-label\">End Date</small>\n        <datepicker\n          :language=\"$vs.rtl ? langHe : langEn\"\n          :disabledDates=\"disabledDatesTo\"\n          name=\"end-date\"\n          v-model=\"endDate\"\n        ></datepicker>\n      </div>\n      <vs-input\n        name=\"event-url\"\n        v-validate=\"'url'\"\n        class=\"w-full mt-6\"\n        label-placeholder=\"Event URL\"\n        v-model=\"url\"\n        :color=\"!errors.has('event-url') ? 'success' : 'danger'\"\n      ></vs-input>\n    </vs-prompt>\n\n    <!-- EDIT EVENT -->\n    <vs-prompt\n      class=\"calendar-event-dialog\"\n      title=\"Edit Event\"\n      accept-text=\"Submit\"\n      cancel-text=\"Remove\"\n      button-cancel=\"border\"\n      @cancel=\"removeEvent\"\n      @accept=\"editEvent\"\n      :is-valid=\"validForm\"\n      :active.sync=\"activePromptEditEvent\"\n    >\n      <div class=\"calendar__label-container flex\">\n        <vs-chip\n          v-if=\"labelLocal != 'none'\"\n          class=\"text-white\"\n          :class=\"'bg-' + labelColor(labelLocal)\"\n        >{{ labelLocal }}</vs-chip>\n\n        <vs-dropdown vs-custom-content class=\"ml-auto my-2 cursor-pointer\">\n          <feather-icon icon=\"TagIcon\" svgClasses=\"h-5 w-5\" @click.prevent></feather-icon>\n\n          <vs-dropdown-menu style=\"z-index: 200001\">\n            <vs-dropdown-item\n              v-for=\"(label, index) in calendarLabels\"\n              :key=\"index\"\n              @click=\"labelLocal = label.value\"\n            >\n              <div class=\"h-3 w-3 inline-block rounded-full mr-2\" :class=\"'bg-' + label.color\"></div>\n              <span>{{ label.text }}</span>\n            </vs-dropdown-item>\n\n            <vs-dropdown-item @click=\"labelLocal = 'none'\">\n              <div class=\"h-3 w-3 mr-1 inline-block rounded-full mr-2 bg-primary\"></div>\n              <span>None</span>\n            </vs-dropdown-item>\n          </vs-dropdown-menu>\n        </vs-dropdown>\n      </div>\n\n      <vs-input\n        name=\"event-name\"\n        v-validate=\"'required'\"\n        class=\"w-full\"\n        label-placeholder=\"Event Title\"\n        v-model=\"title\"\n      ></vs-input>\n      <div class=\"my-4\">\n        <small class=\"date-label\">Start Date</small>\n        <datepicker\n          :language=\"$vs.rtl ? langHe : langEn\"\n          :disabledDates=\"disabledDatesFrom\"\n          name=\"start-date\"\n          v-model=\"startDate\"\n        ></datepicker>\n      </div>\n      <div class=\"my-4\">\n        <small class=\"date-label\">End Date</small>\n        <datepicker\n          :language=\"$vs.rtl ? langHe : langEn\"\n          :disabledDates=\"disabledDatesTo\"\n          name=\"end-date\"\n          v-model=\"endDate\"\n        ></datepicker>\n      </div>\n      <vs-input\n        name=\"event-url\"\n        v-validate=\"'url'\"\n        class=\"w-full mt-6\"\n        label-placeholder=\"Event URL\"\n        v-model=\"url\"\n        :color=\"!errors.has('event-url') ? 'success' : 'danger'\"\n      ></vs-input>\n    </vs-prompt>\n  </div>\n</template>\n\n<script>\nimport { CalendarView, CalendarViewHeader } from \"vue-simple-calendar\";\nimport moduleCalendar from \"@/store/calendar/moduleCalendar.js\";\nrequire(\"vue-simple-calendar/static/css/default.css\");\n\nimport Datepicker from \"vuejs-datepicker\";\nimport { en, he } from \"vuejs-datepicker/src/locale\";\n\nexport default {\n  components: {\n    CalendarView,\n    CalendarViewHeader,\n    Datepicker\n  },\n  data() {\n    return {\n      showDate: new Date(),\n      disabledFrom: false,\n      id: 0,\n      title: \"\",\n      startDate: \"\",\n      endDate: \"\",\n      labelLocal: \"none\",\n\n      langHe: he,\n      langEn: en,\n\n      url: \"\",\n      calendarView: \"month\",\n\n      activePromptAddEvent: false,\n      activePromptEditEvent: false,\n\n      calendarViewTypes: [\n        {\n          label: \"Month\",\n          val: \"month\"\n        },\n        {\n          label: \"Week\",\n          val: \"week\"\n        },\n        {\n          label: \"Year\",\n          val: \"year\"\n        }\n      ]\n    };\n  },\n  computed: {\n    simpleCalendarEvents() {\n      return this.$store.state.calendar.events;\n    },\n    validForm() {\n      return (\n        this.title !== \"\" &&\n        this.startDate !== \"\" &&\n        this.endDate !== \"\" &&\n        Date.parse(this.endDate) - Date.parse(this.startDate) >= 0 &&\n        !this.errors.has(\"event-url\")\n      );\n    },\n    disabledDatesTo() {\n      return { to: new Date(this.startDate) };\n    },\n    disabledDatesFrom() {\n      return { from: new Date(this.endDate) };\n    },\n    calendarLabels() {\n      return this.$store.state.calendar.eventLabels;\n    },\n    labelColor() {\n      return label => {\n        if (label === \"business\") return \"success\";\n        else if (label === \"work\") return \"warning\";\n        else if (label === \"personal\") return \"danger\";\n        else if (label === \"none\") return \"primary\";\n      };\n    },\n    windowWidth() {\n      return this.$store.state.windowWidth;\n    }\n  },\n  methods: {\n    addEvent() {\n      const obj = {\n        title: this.title,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        label: this.labelLocal,\n        url: this.url\n      };\n      obj.classes = `event-${this.labelColor(this.labelLocal)}`;\n      this.$store.dispatch(\"calendar/addEvent\", obj);\n    },\n    updateMonth(val) {\n      this.showDate = this.$refs.calendar.getIncrementedPeriod(val);\n    },\n    clearFields() {\n      this.title = this.endDate = this.url = \"\";\n      this.id = 0;\n      this.labelLocal = \"none\";\n    },\n    promptAddNewEvent(date) {\n      this.disabledFrom = false;\n      this.addNewEventDialog(date);\n    },\n    addNewEventDialog(date) {\n      this.clearFields();\n      this.startDate = date;\n      this.endDate = date;\n      this.activePromptAddEvent = true;\n    },\n    openAddNewEvent(date) {\n      this.disabledFrom = true;\n      this.addNewEventDialog(date);\n    },\n    openEditEvent(event) {\n      const e = this.$store.getters[\"calendar/getEvent\"](event.id);\n      this.id = e.id;\n      this.title = e.title;\n      this.startDate = e.startDate;\n      this.endDate = e.endDate;\n      this.url = e.url;\n      this.labelLocal = e.label;\n      this.activePromptEditEvent = true;\n    },\n    editEvent() {\n      const obj = {\n        id: this.id,\n        title: this.title,\n        startDate: this.startDate,\n        endDate: this.endDate,\n        label: this.labelLocal,\n        url: this.url\n      };\n      obj.classes = `event-${this.labelColor(this.labelLocal)}`;\n      this.$store.dispatch(\"calendar/editEvent\", obj);\n    },\n    removeEvent() {\n      this.$store.dispatch(\"calendar/removeEvent\", this.id);\n    },\n    eventDragged(event, date) {\n      this.$store.dispatch(\"calendar/eventDragged\", { event, date });\n    }\n  },\n  created() {\n    this.$store.registerModule(\"calendar\", moduleCalendar);\n    this.$store.dispatch(\"calendar/fetchEvents\");\n    this.$store.dispatch(\"calendar/fetchEventLabels\");\n  },\n  beforeDestroy() {\n    this.$store.unregisterModule(\"calendar\");\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"@/assets/scss/vuexy/apps/simple-calendar.scss\";\n</style>\n"],"sourceRoot":"src/views"}]}