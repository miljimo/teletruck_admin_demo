{"remainingRequest":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/babel-loader/lib/index.js!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/UpdateProfile.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/src/views/UpdateProfile.vue","mtime":1600553567000},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/babel-loader/lib/index.js","mtime":1596739166622},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/cache-loader/dist/cjs.js","mtime":1596790124748},{"path":"/Users/adeniranopeyemi/Documents/Horpey/Projects/Baby Diary Admin/node_modules/vue-loader/lib/index.js","mtime":1596739192596}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport vSelect from \"vue-select\";\nexport default {\n  components: {\n    \"v-select\": vSelect\n  },\n  data: function data() {\n    return {\n      imgpreview: false,\n      adminImg: \"\",\n      imageDataUpload: \"\",\n      previewUrl: \"\",\n      adminImage: \"\",\n      adminType: [\"admin\", \"accounting\", \"customerCare\"],\n      admin: {\n        firstName: \"\",\n        lastName: \"\",\n        countryCode: \"\",\n        phoneNumber: \"\",\n        img: \"\",\n        password: \"\",\n        confirmPassword: \"\"\n      }\n    };\n  },\n  mounted: function mounted() {\n    var adminData = JSON.parse(localStorage.getItem(\"adminData\")); // console.log(adminData);\n\n    this.admin = {\n      firstName: adminData.firstName,\n      lastName: adminData.lastName,\n      countryCode: adminData.countryCode,\n      phoneNumber: adminData.phoneNumber\n    };\n    this.adminImage = adminData.imgx400;\n  },\n  methods: {\n    openLoadingInDiv: function openLoadingInDiv() {\n      this.$vs.loading({\n        container: \"#div-with-loading\",\n        scale: 0.6\n      });\n    },\n    handleFileChange: function handleFileChange(event) {\n      //   console.log(event.target.files[0]);\n      var file = event.target.files[0];\n      this.imageDataUpload = file;\n      this.previewUrl = URL.createObjectURL(file);\n      this.imgpreview = true; //   this.church.Logo = event.target.files[0];\n    },\n    saveImageUpload: function saveImageUpload() {\n      var _this = this;\n\n      this.openLoadingInDiv();\n      var profileImage = {\n        image: this.imageDataUpload\n      };\n      this.$store.dispatch(\"updateProfileImage\", profileImage).then(function (resp) {\n        _this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n\n        _this.resetAdminStorage();\n\n        _this.$vs.notify({\n          title: \"Profile Image\",\n          text: \"Profile Image updated successfully!\",\n          color: \"success\"\n        });\n\n        _this.imgpreview = false;\n      }).catch(function (err) {\n        _this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n\n        if (err.response) {\n          if (err.response.status == 400) {\n            //        console.log(err.response.data);\n            _this.$vs.notify({\n              title: \"Profile Image\",\n              text: err.response.data,\n              color: \"warning\"\n            });\n          } else {\n            _this.$vs.notify({\n              title: \"Profile Image\",\n              text: \"Unable to edit profile image, try again!\",\n              color: \"warning\"\n            });\n          }\n        } else {\n          _this.$vs.notify({\n            title: \"Profile Image\",\n            text: \"Unable to edit profile image, try again!\",\n            color: \"warning\"\n          });\n        }\n      });\n    },\n    changeImage: function changeImage() {\n      document.getElementById(\"fileUpload\").click(); //   console.log(event.target.files[0]);\n      //   this.church.Logo = event.target.files[0];\n    },\n    resetAdminStorage: function resetAdminStorage() {\n      var _this2 = this;\n\n      this.$store.dispatch(\"getAdmin\").then(function (resp) {\n        _this2.$router.go(0);\n\n        _this2.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n      }).catch(function (err) {\n        _this2.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n      });\n    },\n    submitForm: function submitForm() {\n      var _this3 = this;\n\n      this.openLoadingInDiv();\n      console.log(this.admin);\n      var editAdmin = this.admin;\n      this.$store.dispatch(\"editAdminAccount\", editAdmin).then(function (resp) {\n        //        console.log(resp.data);\n        _this3.resetAdminStorage();\n\n        _this3.$vs.notify({\n          title: \"Edit Admin Account\",\n          text: \"Admin Account editted successfully!\",\n          color: \"success\"\n        });\n      }).catch(function (err) {\n        _this3.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n\n        if (err.response) {\n          if (err.response.status == 400) {\n            //        console.log(err.response.data);\n            _this3.$vs.notify({\n              title: \"Edit Admin Account\",\n              text: err.response.data,\n              color: \"warning\"\n            });\n          } else {\n            _this3.$vs.notify({\n              title: \"Edit Admin Account\",\n              text: \"Unable to Update Profile, try again!\",\n              color: \"warning\"\n            });\n          }\n        } else {\n          _this3.$vs.notify({\n            title: \"Edit Admin Account\",\n            text: \"Unable to Update Profile, try again!\",\n            color: \"warning\"\n          });\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["UpdateProfile.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <vs-card class=\"p-5\">\n    <a href=\"javascript:void()\" @click=\"$router.go(-1)\">← Back</a>\n    <h4 class=\"inline-block ml-2\">Update Admin Profile</h4>\n    <div class=\"contained-example-container vs-con-loading__container\" id=\"div-with-loading\">\n      <div class=\"vx-row\">\n        <div class=\"vx-col w-full lg:w-1/4 xl:w-1/4\">\n          <div class=\"churchimg\">\n            <div class=\"img-container mt-6 pt-4 text-center\">\n              <img v-if=\"imgpreview\" :src=\"previewUrl\" class=\"logowidth\" />\n              <div v-else>\n                <img\n                  v-if=\"adminImage\"\n                  :src=\"'https://d2meuqd6gjekk6.cloudfront.net/'+adminImage\"\n                  class=\"logowidth\"\n                />\n              </div>\n              <div class=\"mt-5\">\n                <div class v-if=\"imgpreview\">\n                  <vs-button\n                    @click=\"saveImageUpload()\"\n                    color=\"warning\"\n                    type=\"filled\"\n                    class=\"mr-2 mb-2\"\n                  >Save Image</vs-button>\n                  <vs-button @click=\"imgpreview = false\" color=\"danger\" type=\"flat\">Cancel</vs-button>\n                </div>\n                <div v-else>\n                  <input id=\"fileUpload\" @change=\"handleFileChange($event)\" type=\"file\" hidden />\n                  <vs-button\n                    @click=\"changeImage()\"\n                    color=\"dark\"\n                    type=\"filled\"\n                    class=\"mr-2 mb-2\"\n                  >Change Image</vs-button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"vx-col w-full lg:w-3/4 xl:w-3/4\">\n          <form class=\"mt-4\">\n            <div class=\"vx-row\">\n              <div class=\"vx-col w-1/2 pt-3\">\n                <vs-input\n                  label-placeholder=\"First Name\"\n                  v-model=\"admin.firstName\"\n                  name=\"input1\"\n                  class=\"w-full mt-5\"\n                />\n              </div>\n              <div class=\"vx-col w-1/2 pt-3\">\n                <vs-input\n                  label-placeholder=\"Last Name\"\n                  v-model=\"admin.lastName\"\n                  name=\"input1\"\n                  class=\"w-full mt-5\"\n                />\n              </div>\n\n              <div class=\"vx-col w-1/2 pt-3\">\n                <vs-input\n                  label-placeholder=\"Country Code\"\n                  v-model=\"admin.countryCode\"\n                  name=\"input1\"\n                  class=\"w-full mt-5\"\n                />\n              </div>\n\n              <div class=\"vx-col w-1/2 pt-3\">\n                <vs-input\n                  label-placeholder=\"Phone Number\"\n                  v-model=\"admin.phoneNumber\"\n                  name=\"input1\"\n                  class=\"w-full mt-5\"\n                />\n              </div>\n              <!-- <div class=\"vx-col w-1/2 pt-3\">\n                <vs-input\n                  label-placeholder=\"Email\"\n                  v-model=\"admin.email\"\n                  name=\"input1\"\n                  type=\"email\"\n                  class=\"w-full mt-5\"\n                />\n              </div>-->\n            </div>\n            <vs-button type=\"filled\" @click.prevent=\"submitForm\" class=\"mt-5 block\">Update Profile</vs-button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </vs-card>\n</template>\n<script>\nimport vSelect from \"vue-select\";\nexport default {\n  components: {\n    \"v-select\": vSelect,\n  },\n  data() {\n    return {\n      imgpreview: false,\n      adminImg: \"\",\n      imageDataUpload: \"\",\n      previewUrl: \"\",\n      adminImage: \"\",\n      adminType: [\"admin\", \"accounting\", \"customerCare\"],\n      admin: {\n        firstName: \"\",\n        lastName: \"\",\n        countryCode: \"\",\n        phoneNumber: \"\",\n        img: \"\",\n        password: \"\",\n        confirmPassword: \"\",\n      },\n    };\n  },\n  mounted() {\n    let adminData = JSON.parse(localStorage.getItem(\"adminData\"));\n    // console.log(adminData);\n    this.admin = {\n      firstName: adminData.firstName,\n      lastName: adminData.lastName,\n      countryCode: adminData.countryCode,\n      phoneNumber: adminData.phoneNumber,\n    };\n    this.adminImage = adminData.imgx400;\n  },\n  methods: {\n    openLoadingInDiv() {\n      this.$vs.loading({\n        container: \"#div-with-loading\",\n        scale: 0.6,\n      });\n    },\n    handleFileChange: function (event) {\n      //   console.log(event.target.files[0]);\n      const file = event.target.files[0];\n      this.imageDataUpload = file;\n      this.previewUrl = URL.createObjectURL(file);\n      this.imgpreview = true;\n      //   this.church.Logo = event.target.files[0];\n    },\n    saveImageUpload() {\n      this.openLoadingInDiv();\n      let profileImage = {\n        image: this.imageDataUpload,\n      };\n      this.$store\n        .dispatch(\"updateProfileImage\", profileImage)\n        .then((resp) => {\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n          this.resetAdminStorage();\n          this.$vs.notify({\n            title: \"Profile Image\",\n            text: \"Profile Image updated successfully!\",\n            color: \"success\",\n          });\n          this.imgpreview = false;\n        })\n        .catch((err) => {\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n          if (err.response) {\n            if (err.response.status == 400) {\n              //        console.log(err.response.data);\n              this.$vs.notify({\n                title: \"Profile Image\",\n                text: err.response.data,\n                color: \"warning\",\n              });\n            } else {\n              this.$vs.notify({\n                title: \"Profile Image\",\n                text: \"Unable to edit profile image, try again!\",\n                color: \"warning\",\n              });\n            }\n          } else {\n            this.$vs.notify({\n              title: \"Profile Image\",\n              text: \"Unable to edit profile image, try again!\",\n              color: \"warning\",\n            });\n          }\n        });\n    },\n\n    changeImage() {\n      document.getElementById(\"fileUpload\").click();\n      //   console.log(event.target.files[0]);\n      //   this.church.Logo = event.target.files[0];\n    },\n    resetAdminStorage() {\n      this.$store\n        .dispatch(\"getAdmin\")\n        .then((resp) => {\n          this.$router.go(0);\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n        })\n        .catch((err) => {\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n        });\n    },\n    submitForm() {\n      this.openLoadingInDiv();\n      console.log(this.admin);\n      let editAdmin = this.admin;\n      this.$store\n        .dispatch(\"editAdminAccount\", editAdmin)\n        .then((resp) => {\n          //        console.log(resp.data);\n          this.resetAdminStorage();\n          this.$vs.notify({\n            title: \"Edit Admin Account\",\n            text: \"Admin Account editted successfully!\",\n            color: \"success\",\n          });\n        })\n        .catch((err) => {\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n\n          if (err.response) {\n            if (err.response.status == 400) {\n              //        console.log(err.response.data);\n              this.$vs.notify({\n                title: \"Edit Admin Account\",\n                text: err.response.data,\n                color: \"warning\",\n              });\n            } else {\n              this.$vs.notify({\n                title: \"Edit Admin Account\",\n                text: \"Unable to Update Profile, try again!\",\n                color: \"warning\",\n              });\n            }\n          } else {\n            this.$vs.notify({\n              title: \"Edit Admin Account\",\n              text: \"Unable to Update Profile, try again!\",\n              color: \"warning\",\n            });\n          }\n        });\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}