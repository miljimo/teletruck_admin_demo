/*!
 * vue-router-user-roles v0.1.92 
 * (c) 2019 Anthony Gore
 * Released under the MIT License.
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("vue")):"function"==typeof define&&define.amd?define(["vue"],t):e.VueRouterUserRoles=t(e.Vue)}(this,function(e){"use strict";function t(e,t){if(!t.router)throw new Error("You must supply a router instance in the options.");var o=new r(t.router);e.prototype.$user=o,t.router.beforeEach(function(e,t,r){return o.resolve(e,t,r)})}e="default"in e?e.default:e;var r=function(t){this.router=t,this.vm=new e({data:{user:null}})};return r.prototype.get=function(){if(!this.vm.user)throw new Error("Attempt to access user before being set");return this.vm.user},r.prototype.set=function(e){if(this.vm.user=e,this.to){var t=this._hasAccessToRoute(this.to),r=t.access,o=t.redirect;r||this.router.push({name:o})}},r.prototype.hasAccess=function(e){var t=e.name,r=this.router.options.routes.find(function(e){return e.name===t});if(!r)throw new Error("Route "+t+" is not defined in the current router");return this._hasAccessToRoute(r).access},r.prototype._hasAccessToRoute=function(e){var t=this;if(this.vm.user&&e.meta.permissions){var r=e.meta.permissions.find(function(e){return e.role===t.vm.user.role});if(r&&("boolean"==typeof r.access&&!r.access||"function"==typeof r.access&&!r.access(this.vm.user,e)))return{access:!1,redirect:r.redirect}}return{access:!0}},r.prototype.resolve=function(e,t,r){this.to=e;var o=this._hasAccessToRoute(e),s=o.access,n=o.redirect;s?r():r({name:n})},t.version="0.1.92","undefined"!=typeof window&&window.Vue&&window.Vue.use(t),t});