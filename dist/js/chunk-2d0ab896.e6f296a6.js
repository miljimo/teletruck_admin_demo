(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab896"],{1661:function(t,a,n){"use strict";n.r(a);var e=function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",[n("vs-card",{staticClass:"p-5"},[n("a",{attrs:{href:"javascript:void()"},on:{click:function(a){return t.$router.go(-1)}}},[t._v("← Back")]),n("h4",{staticClass:"inline-block ml-2"},[t._v("Create new branch")]),n("div",{staticClass:"contained-example-container"},[n("form",{staticClass:"mt-4 vs-con-loading__container",attrs:{id:"div-with-loading"}},[n("div",{staticClass:"vx-row"},[n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Branch Name",name:"input1"},model:{value:t.branch.Name,callback:function(a){t.$set(t.branch,"Name",a)},expression:"branch.Name"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("label",[t._v("Country")]),n("v-select",{staticClass:"mt-1",attrs:{label:"name",options:t.countries},on:{input:t.changeCountry},model:{value:t.branch.countryId,callback:function(a){t.$set(t.branch,"countryId",a)},expression:"branch.countryId"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("label",[t._v("State")]),n("v-select",{staticClass:"mt-1",attrs:{label:"name",options:t.states},model:{value:t.branch.State,callback:function(a){t.$set(t.branch,"State",a)},expression:"branch.State"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Region",name:"input1"},model:{value:t.branch.Region,callback:function(a){t.$set(t.branch,"Region",a)},expression:"branch.Region"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Country Code",name:"input1"},model:{value:t.branch.CountryCode,callback:function(a){t.$set(t.branch,"CountryCode",a)},expression:"branch.CountryCode"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Phone Number",name:"input1"},model:{value:t.branch.PhoneNumber,callback:function(a){t.$set(t.branch,"PhoneNumber",a)},expression:"branch.PhoneNumber"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Email",name:"input1"},model:{value:t.branch.Email,callback:function(a){t.$set(t.branch,"Email",a)},expression:"branch.Email"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Address",name:"input1"},model:{value:t.branch.Address,callback:function(a){t.$set(t.branch,"Address",a)},expression:"branch.Address"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Zone",name:"input1"},model:{value:t.branch.Zone,callback:function(a){t.$set(t.branch,"Zone",a)},expression:"branch.Zone"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Pastor",name:"input1"},model:{value:t.branch.Pastor,callback:function(a){t.$set(t.branch,"Pastor",a)},expression:"branch.Pastor"}})],1),n("div",{staticClass:"vx-col w-1/2 pt-3"},[n("vs-input",{staticClass:"w-full mt-0",attrs:{label:"Logo",accept:"image/png, image/jpeg, image/jpg",name:"input1",type:"file"},on:{change:function(a){return t.handleFileChange(a)}}})],1)]),n("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled"},on:{click:function(a){return a.preventDefault(),t.submitForm(a)}}},[t._v("Create Branch")])],1)])])],1)},s=[],o=n("4a7a"),l=n.n(o),i={components:{"v-select":l.a},data:function(){return{countries:[],states:[],branch:{Name:"",State:"",Region:"",CountryCode:"",PhoneNumber:"",Email:"",countryId:"",Address:"",Logo:"",Zone:"",Pastor:"",publicToken:""}}},mounted:function(){var t=this;this.openLoadingInDiv(),this.branch.publicToken=this.$route.params.id,this.$store.dispatch("getCountries").then((function(a){t.countries=a.data,t.$vs.loading.close("#div-with-loading > .con-vs-loading")})).catch((function(a){t.$vs.loading.close("#div-with-loading > .con-vs-loading")}))},methods:{openLoadingInDiv:function(){this.$vs.loading({container:"#div-with-loading",scale:.6})},handleFileChange:function(t){console.log(t.target.files[0]),this.branch.Logo=t.target.files[0]},changeCountry:function(t){var a=this;this.openLoadingInDiv();var n=t._id;this.$store.dispatch("getState",n).then((function(t){a.states=t.data,console.log(t),a.$vs.loading.close("#div-with-loading > .con-vs-loading")})).catch((function(t){console.log(t),a.$vs.loading.close("#div-with-loading > .con-vs-loading")}))},submitForm:function(){var t=this;this.openLoadingInDiv();var a=this.branch;this.$store.dispatch("createBranch",a).then((function(a){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.$vs.notify({title:"Create new branch",text:"Branch created successfully!",color:"success"}),t.branch={Name:"",State:"",Region:"",CountryCode:"",PhoneNumber:"",Email:"",countryId:"",Address:"",Logo:"",Zone:"",Pastor:""},console.log(a)})).catch((function(a){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),console.log(a.response),a.response&&400==a.response.status?(console.log(a.response.data),t.$vs.notify({title:"Create new branch",text:a.response.data,color:"warning"})):t.$vs.notify({title:"Create new branch",text:"Unable to create new branch, try again!",color:"warning"})}))}}},c=i,r=n("2877"),u=Object(r["a"])(c,e,s,!1,null,null,null);a["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0ab896.e6f296a6.js.map