(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217357"],{c66d:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.loading?t._e():s("div",[t._m(0),s("div",{staticClass:"mt-5"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-5"},[s("vs-card",[s("div",{staticClass:"p-4"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-3"},[s("vs-avatar",{staticClass:"mb-5",attrs:{size:"100px",src:t.user.profile_photo_url}})],1),s("div",{staticClass:"col-md-9"},[s("div",{staticClass:"col-md-9"},[s("h3",{staticClass:"mb-2"},[t._v(t._s(t.user.name))]),s("p",{staticClass:"mb-2"},[t._v(t._s(t.user.email))]),s("p",{staticClass:"text-small"},[t._v(t._s(t.user.phone))]),s("vs-chip",{staticClass:"mt-3"},[t._v("\n                    "+t._s(t.user.user_type)+"\n                  ")])],1)])]),s("div",{staticClass:"flex mt-10"},[s("vs-button",{attrs:{color:"dark",type:"border"},on:{click:function(e){t.changepassword=!0}}},[t._v("Change password")]),s("vs-button",{staticClass:"ml-5",attrs:{color:"dark",type:"border"},on:{click:t.addDeliveryPrice}},[t._v("Add Delivery Price")])],1)])])],1)])]),s("div",{staticClass:"mt-5"},[s("vs-card",[s("div",{staticClass:"p-2"},[s("div",{staticClass:"mb-4"},[s("p",{staticClass:"font-bold lead"},[t._v("All Delivery Price")])]),s("vs-table",{attrs:{id:"div-with-loading","max-items":"10",data:t.contents,search:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.data;return t._l(i,(function(e,a){return s("vs-tr",{key:a},[s("vs-td",{attrs:{data:i[a].id}},[t._v("\n                "+t._s(t.moment.utc(new Date(i[a].created_at)).format("dddd, MMM Do 'YY"))+"\n              ")]),s("vs-td",{attrs:{data:i[a].name}},[s("span",{staticClass:"font-bold text-primary",on:{click:function(e){return t.viewAllPrices(i[a])}}},[t._v("\n                  "+t._s(i[a].name))])]),s("vs-td",{attrs:{data:i[a].price}},[s("span",{staticClass:"text-small"},[t._v("\n                  "+t._s(t._f("capitalize")(i[a].price))+"\n                ")])]),s("vs-td",[s("vs-button",{staticClass:"mr-2 mb-2",attrs:{size:"small"},on:{click:function(e){return t.editDeliveryPrice(i[a].id)}}},[t._v("Edit Price")])],1)],1)}))}}],null,!1,1261233639)},[s("template",{slot:"thead"},[s("vs-th",[t._v(" Date Created ")]),s("vs-th",[t._v(" Place ")]),s("vs-th",[t._v(" Pricing ")]),s("vs-th",[t._v(" Action ")])],1)],2)],1)])],1),s("vs-popup",{staticClass:"addPopup",attrs:{title:"Add Category",active:t.addDeliveryPriceView},on:{"update:active":function(e){t.addDeliveryPriceView=e}}},[s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.submitForm(e)}}},[s("div",{staticClass:"py-3"},[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Enter Location"},model:{value:t.addD.name,callback:function(e){t.$set(t.addD,"name",e)},expression:"addD.name"}})],1),s("div",{staticClass:"py-3"},[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"price"},model:{value:t.addD.price,callback:function(e){t.$set(t.addD,"price",e)},expression:"addD.price"}})],1),s("div",{staticClass:"mt-10"},[s("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"},on:{click:t.submitForm}},[t._v("Add Price")]),s("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(e){t.addDeliveryPriceView=!0}}},[t._v("Cancel")])],1)])])]),s("vs-popup",{staticClass:"addPopup",attrs:{title:"Add Category",active:t.editDeliveryPriceView},on:{"update:active":function(e){t.editDeliveryPriceView=e}}},[s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.editDPrice(e)}}},[s("div",{staticClass:"py-3"},[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Enter Location"},model:{value:t.editD.name,callback:function(e){t.$set(t.editD,"name",e)},expression:"editD.name"}})],1),s("div",{staticClass:"py-3"},[s("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"price"},model:{value:t.editD.price,callback:function(e){t.$set(t.editD,"price",e)},expression:"editD.price"}})],1),s("div",{staticClass:"mt-10"},[s("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"},on:{click:t.editDPrice}},[t._v("Edit Price")]),s("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(e){t.editDeliveryPriceView=!0}}},[t._v("Cancel")])],1)])])]),s("vs-popup",{staticClass:"addPopup",attrs:{title:"Change password",active:t.changepassword},on:{"update:active":function(e){t.changepassword=e}}},[s("div",[s("form",{attrs:{action:""}},[s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{type:"password",placeholder:"Current password"},model:{value:t.form.current_password,callback:function(e){t.$set(t.form,"current_password",e)},expression:"form.current_password"}})],1),s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{type:"password",placeholder:"New password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{type:"password",placeholder:"Confirm new password"},model:{value:t.form.password_confirmation,callback:function(e){t.$set(t.form,"password_confirmation",e)},expression:"form.password_confirmation"}})],1),s("div",{staticClass:"mt-10"},[s("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"},on:{click:t.changePasswordForm}},[t._v("Change password")]),s("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(e){t.changepassword=!1}}},[t._v("Cancel")])],1)])])]),s("vs-popup",{staticClass:"addPopup",attrs:{title:"Edit profile",active:t.editprofile},on:{"update:active":function(e){t.editprofile=e}}},[s("div",[s("form",{attrs:{action:""}},[s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{placeholder:"First name"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{placeholder:"Last name"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{type:"email",placeholder:"Email address"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),s("div",{staticClass:"my-3"},[s("vs-input",{staticClass:"w-full",attrs:{placeholder:"Profile image"},model:{value:t.value1,callback:function(e){t.value1=e},expression:"value1"}})],1),s("div",{staticClass:"mt-10"},[s("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"}},[t._v("Edit Profile")]),s("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(e){t.editprofile=!1}}},[t._v("Cancel")])],1)])])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-9 col-4"},[s("h3",{staticClass:"font-bold d-inline"},[t._v("Settings")])])])}],o=(s("7f7f"),{computed:{loading:function(){return this.$store.getters.pgLoading},user:function(){return this.$store.getters.user}},mounted:function(){this.getBl()},data:function(){return{contents:[],changepassword:!1,editprofile:!1,addDeliveryPriceView:!1,editDeliveryPriceView:!1,trucktype:"",addData:!1,table_options:{current_page:1},delAct:"",form:{current_password:"",password:"",password_confirmation:""},addD:{price:"",name:""},editD:{price:"",id:"",name:""}}},watch:{"table_options.current_page":function(){this.getContents(!0)}},methods:{addDeliveryPrice:function(){this.addDeliveryPriceView=!0},editDeliveryPrice:function(t){this.editDeliveryPriceView=!0,this.editD.id=t},editDPrice:function(){var t=this;this.$vs.loading();var e={price:this.editD.price,id:this.editD.id,name:this.editD.name},s={path:"/admin/delivery-pricing/update",method:"PUT",data:e};this.$store.dispatch("update",s).then((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Price updated",text:"Successfully updated pricing",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){location.reload()}),1e3)})).catch((function(e){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.response?t.$vs.notify({title:"Update pricing",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Update pricing",text:"Unable to update pricing",color:"dark",icon:"error",position:"bottom-center"}),t.$store.commit("pgLoading",!1)}))},submitForm:function(){var t=this;this.$vs.loading();var e={price:this.addD.price,name:this.addD.name},s={path:"/admin/delivery-pricing",method:"POST",data:e};this.$store.dispatch("create",s).then((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Delivery Place created",text:"Successfully created delivery pricing",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){location.reload()}),1e3)})).catch((function(e){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.response?t.$vs.notify({title:"create delivery pricing",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"create delivery pricing",text:"Unable to create delivery pricing",color:"dark",icon:"error",position:"bottom-center"}),t.$store.commit("pgLoading",!1)}))},changePasswordForm:function(){var t=this;if(this.form.password==this.form.password_confirmation){this.$vs.loading();var e=this.form,s={path:"profile/update/password",data:e};this.$store.dispatch("create",s).then((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Password update",text:"Successfully updated password",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){t.$store.dispatch("logout").then((function(){t.$router.push("/login")}))}),1e3)})).catch((function(e){t.$vs.loading.close(),e.response?t.$vs.notify({title:"Password update",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Password update",text:"Unable to update password",color:"dark",icon:"error",position:"bottom-center"})}))}else this.$vs.notify({title:"Password mismatch",text:"Check the password and try again",color:"dark",icon:"error",position:"bottom-center"})},getBl:function(){this.$store.commit("pgLoading",!0),this.getContents(!1)},getContents:function(t){var e=this;t&&this.$vs.loading({container:"#div-with-loading",scale:.6});var s={path:"/admin/delivery-pricing",pageNo:this.table_options.current_page};this.$store.dispatch("getContents",s).then((function(s){e.contents=s.data.data,t&&e.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.$store.commit("pgLoading",!1)})).catch((function(t){e.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.response?e.$vs.notify({title:"Get Contents",text:t.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):e.$vs.notify({title:"Get Contents",text:"Unable to get contents",color:"dark",icon:"error",position:"bottom-center"}),e.$store.commit("pgLoading",!1)}))}}}),r=o,n=s("2877"),c=Object(n["a"])(r,i,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d217357.5ba1e508.js.map