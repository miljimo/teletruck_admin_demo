(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217357"],{c66d:function(s,t,a){"use strict";a.r(t);var o=function(){var s=this,t=s.$createElement,a=s._self._c||t;return s.loading?s._e():a("div",[s._m(0),a("div",{staticClass:"mt-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-5"},[a("vs-card",[a("div",{staticClass:"p-4"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("vs-avatar",{staticClass:"mb-5",attrs:{size:"100px",src:s.user.profile_photo_url}})],1),a("div",{staticClass:"col-md-9"},[a("div",{staticClass:"col-md-9"},[a("h3",{staticClass:"mb-2"},[s._v(s._s(s.user.name))]),a("p",{staticClass:"mb-2"},[s._v(s._s(s.user.email))]),a("p",{staticClass:"text-small"},[s._v(s._s(s.user.phone))]),a("vs-chip",{staticClass:"mt-3"},[s._v("\n                    "+s._s(s.user.user_type)+"\n                  ")])],1)])]),a("div",{staticClass:"mt-10"},[a("vs-button",{staticClass:"ml-5",attrs:{color:"dark",type:"border"},on:{click:function(t){s.changepassword=!0}}},[s._v("Change password")])],1)])])],1)])]),a("vs-popup",{staticClass:"addPopup",attrs:{title:"Change password",active:s.changepassword},on:{"update:active":function(t){s.changepassword=t}}},[a("div",[a("form",{attrs:{action:""}},[a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{type:"password",placeholder:"Current password"},model:{value:s.form.current_password,callback:function(t){s.$set(s.form,"current_password",t)},expression:"form.current_password"}})],1),a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{type:"password",placeholder:"New password"},model:{value:s.form.password,callback:function(t){s.$set(s.form,"password",t)},expression:"form.password"}})],1),a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{type:"password",placeholder:"Confirm new password"},model:{value:s.form.password_confirmation,callback:function(t){s.$set(s.form,"password_confirmation",t)},expression:"form.password_confirmation"}})],1),a("div",{staticClass:"mt-10"},[a("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"},on:{click:s.changePasswordForm}},[s._v("Change password")]),a("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(t){s.changepassword=!1}}},[s._v("Cancel")])],1)])])]),a("vs-popup",{staticClass:"addPopup",attrs:{title:"Edit profile",active:s.editprofile},on:{"update:active":function(t){s.editprofile=t}}},[a("div",[a("form",{attrs:{action:""}},[a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{placeholder:"First name"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}})],1),a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{placeholder:"Last name"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}})],1),a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{type:"email",placeholder:"Email address"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}})],1),a("div",{staticClass:"my-3"},[a("vs-input",{staticClass:"w-full",attrs:{placeholder:"Profile image"},model:{value:s.value1,callback:function(t){s.value1=t},expression:"value1"}})],1),a("div",{staticClass:"mt-10"},[a("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"}},[s._v("Edit Profile")]),a("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(t){s.editprofile=!1}}},[s._v("Cancel")])],1)])])])],1)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9 col-4"},[a("h3",{staticClass:"font-bold d-inline"},[s._v("My Profile")])])])}],i={computed:{loading:function(){return this.$store.getters.pgLoading},user:function(){return this.$store.getters.user}},mounted:function(){},data:function(){return{changepassword:!1,editprofile:!1,contents:[],trucktype:"",addData:!1,table_options:{current_page:1},delAct:"",form:{current_password:"",password:"",password_confirmation:""}}},methods:{changePasswordForm:function(){var s=this;if(this.form.password==this.form.password_confirmation){this.$vs.loading();var t=this.form,a={path:"profile/update/password",data:t};this.$store.dispatch("create",a).then((function(t){s.$vs.loading.close(),s.$vs.notify({title:"Password update",text:"Successfully updated password",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){s.$store.dispatch("logout").then((function(){s.$router.push("/login")}))}),1e3)})).catch((function(t){s.$vs.loading.close(),t.response?s.$vs.notify({title:"Password update",text:t.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):s.$vs.notify({title:"Password update",text:"Unable to update password",color:"dark",icon:"error",position:"bottom-center"})}))}else this.$vs.notify({title:"Password mismatch",text:"Check the password and try again",color:"dark",icon:"error",position:"bottom-center"})}}},r=i,l=a("2877"),c=Object(l["a"])(r,o,e,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d217357.b5457735.js.map