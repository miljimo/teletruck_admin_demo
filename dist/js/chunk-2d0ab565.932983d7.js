(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab565"],{"159d":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.loading?t._e():e("div",[t._m(0),e("div",{staticClass:"mt-5"},[e("vs-card",[e("div",{staticClass:"p-2"},[e("div",{staticClass:"mb-4"},[e("p",{staticClass:"font-bold lead"},[t._v("All")])]),e("vs-table",{attrs:{id:"div-with-loading","max-items":"10",data:t.contents.data,search:""},scopedSlots:t._u([{key:"default",fn:function(a){var s=a.data;return t._l(s,(function(a,i){return e("vs-tr",{key:i},[e("vs-td",{attrs:{data:s[i].id}},[t._v("\n                "+t._s(t.moment.utc(new Date(s[i].created_at)).format("dddd, MMM Do 'YY"))+"\n              ")]),e("vs-td",{attrs:{data:s[i].order_number}},[e("span",{staticClass:"font-bold text-primary"},[t._v("\n                  "+t._s(s[i].order_number))])]),s[i].material?e("vs-td",{attrs:{data:s[i].material.name}},[e("span",{staticClass:"text-small"},[t._v("\n                  "+t._s(t._f("capitalize")(s[i].material.name))+"\n                ")])]):t._e(),s[i].manager?e("vs-td",{attrs:{data:s[i].manager.firstname}},[e("router-link",{attrs:{to:"/view-profile/"+s[i].manager.id}},[e("span",{staticClass:"text-small"},[t._v("\n                    "+t._s(t._f("capitalize")(s[i].manager.firstname))+"\n                    "+t._s(t._f("capitalize")(s[i].manager.lastname))+"\n                  ")])])],1):t._e(),s[i].owner?e("vs-td",{attrs:{data:s[i].owner.firstname}},[e("span",{staticClass:"text-small"},[t._v("\n                  "+t._s(t._f("capitalize")(s[i].owner.firstname))+"\n                  "+t._s(t._f("capitalize")(s[i].owner.lastname))+"\n                ")])]):t._e(),e("vs-td",[s[i].invoice?e("a",{staticClass:"mr-2 mb-2 btn btn-sm btn-dark",attrs:{href:s[i].invoice.file_url,download:"",target:"_blank",size:"small"}},[t._v("Download Invoice")]):t._e()])],1)}))}}],null,!1,3740770589)},[e("template",{slot:"thead"},[e("vs-th",[t._v(" Created ")]),e("vs-th",[t._v(" Order ID ")]),e("vs-th",[t._v(" Material ")]),e("vs-th",[t._v(" Manager ")]),e("vs-th",[t._v(" Owner")]),e("vs-th",[t._v(" Action ")])],1)],2),t.contents?e("vs-pagination",{staticClass:"mt-4",attrs:{total:Math.ceil(t.contents.total/10)},model:{value:t.table_options.current_page,callback:function(a){t.$set(t.table_options,"current_page",a)},expression:"table_options.current_page"}}):t._e()],1)])],1),e("vs-popup",{staticClass:"addPopup",attrs:{title:"Add Material",active:t.addData},on:{"update:active":function(a){t.addData=a}}},[e("div",[e("form",{on:{submit:function(a){return a.preventDefault(),t.submitForm(a)}}},[e("div",{staticClass:"py-3"},[e("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Enter material name"},model:{value:t.name,callback:function(a){t.name=a},expression:"name"}})],1),e("div",{staticClass:"py-3"},[e("label",{staticClass:"text-small"},[t._v("Description")]),e("vs-textarea",{staticClass:"w-full mb-0",model:{value:t.description,callback:function(a){t.description=a},expression:"description"}})],1),e("div",{staticClass:"py-3"},[e("vs-select",{staticClass:"w-full",attrs:{label:"Select Category"},model:{value:t.category_id,callback:function(a){t.category_id=a},expression:"category_id"}},t._l(t.categories,(function(t,a){return e("vs-select-item",{key:a,attrs:{value:t.id,text:""+t.name}})})),1)],1),e("div",{staticClass:"py-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{type:"file",multiple:"",accept:"image/*",label:"Material Images"},on:{change:function(a){return t.addImages(a)}}})],1),e("div",{staticClass:"mt-10"},[e("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"},on:{click:t.submitForm}},[t._v("Add material")]),e("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(a){t.addData=!1}}},[t._v("Cancel")])],1)])])]),e("vs-popup",{staticClass:"addPopup",attrs:{title:"Pricing for "+t.viewPreview.name,active:t.previewPop},on:{"update:active":function(a){t.previewPop=a}}},[e("div",[e("div",{staticClass:"py-3"},t._l(t.viewPreview.pricing,(function(a,s){return e("div",{key:s,staticStyle:{"border-bottom":"1px solid gainsboro","padding-bottom":"6px","margin-bottom":"16px"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-7"},[e("p",{staticClass:"text-small mb-1 text-gray"},[t._v("\n                Size - "+t._s(a.size)+"\n              ")]),e("p",[t._v(t._s(t._f("currency")(a.price,"â‚¦",0)))])]),e("div",{staticClass:"col-md-5"},[e("div",{staticClass:"text-right"})])])])})),0),e("div",{staticClass:"mt-10"},[e("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(a){t.previewPop=!1}}},[t._v("Cancel")])],1)])])],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9 col-4"},[e("h3",{staticClass:"font-bold d-inline"},[t._v("Orders")])]),e("div",{staticClass:"col-md-3 col-8"},[e("div",{staticClass:"text-right"})])])}],n=(e("7f7f"),{computed:{loading:function(){return this.$store.getters.pgLoading}},mounted:function(){this.getBl(),this.getCategories()},data:function(){return{contents:[],categories:[],trucktype:"",addData:!1,table_options:{current_page:1},delAct:"",name:"",size:"",description:"",price:"",images:[],category_id:"",previewPop:!1,viewPreview:{}}},watch:{"table_options.current_page":function(){this.getContents(!0)}},methods:{viewDetails:function(t){this.previewPop=!0,this.viewPreview=t},getBl:function(){this.$store.commit("pgLoading",!0),this.getContents(!1)},getContents:function(t){var a=this;t&&this.$vs.loading({container:"#div-with-loading",scale:.6});var e={path:"admin/orders",pageNo:this.table_options.current_page};this.$store.dispatch("getContents",e).then((function(e){a.contents=e.data.data,t&&a.$vs.loading.close("#div-with-loading > .con-vs-loading"),a.$store.commit("pgLoading",!1)})).catch((function(t){a.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.response?a.$vs.notify({title:"Get Data",text:t.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):a.$vs.notify({title:"Get Data",text:"Unable to get Data",color:"dark",icon:"error",position:"bottom-center"}),a.$store.commit("pgLoading",!1)}))},addImages:function(t){for(var a=0;a<t.target.files.length;++a)this.images.push(t.target.files[a])},submitForm:function(){var t=this;this.$vs.loading();var a=new FormData;a.append("name",this.name),a.append("description",this.description),a.append("category_id",this.category_id);for(var e=0;e<this.images.length;e++)a.append("images[]",this.images[e]);var s={path:"admin/materials",data:a};this.$store.dispatch("create",s).then((function(a){t.$vs.loading.close(),t.$vs.notify({title:"Create Material",text:"Successfully created new material",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){location.reload()}),1e3)})).catch((function(a){t.$vs.loading.close(),a.response?t.$vs.notify({title:"Create Material",text:a.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Create Material",text:"Unable to Create Material",color:"dark",icon:"error",position:"bottom-center"})}))}}}),o=n,r=e("2877"),l=Object(r["a"])(o,s,i,!1,null,null,null);a["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0ab565.932983d7.js.map