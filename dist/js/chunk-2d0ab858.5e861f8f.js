(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ab858"],{1641:function(t,c,e){"use strict";e.r(c);var a=function(){var t=this,c=t.$createElement,e=t._self._c||c;return e("div",[e("vs-card",{staticClass:"p-5"},[e("a",{attrs:{href:"javascript:void()"},on:{click:function(c){return t.$router.go(-1)}}},[t._v("← Back")]),e("h4",{staticClass:"inline-block ml-2"},[t._v(t._s(t.church.name))]),e("div",{staticClass:"contained-example-container vs-con-loading__container",attrs:{id:"div-with-loading"}},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-full lg:w-1/4 xl:w-1/4"},[e("div",{staticClass:"churchimg"},[e("div",{staticClass:"img-container mt-6 pt-4 text-center"},[t.imgpreview?e("img",{staticClass:"logowidth",attrs:{src:t.previewUrl}}):e("div",[t.churchimg?e("img",{staticClass:"logowidth",attrs:{src:t.churchimg}}):t._e()]),e("div",{staticClass:"mt-5"},[t.imgpreview?e("div",{},[e("vs-button",{staticClass:"mr-2 mb-2",attrs:{color:"warning",type:"filled"},on:{click:function(c){return t.saveImageUpload()}}},[t._v("Save Image")]),e("vs-button",{attrs:{color:"danger",type:"flat"},on:{click:function(c){t.imgpreview=!1}}},[t._v("Cancel")])],1):e("div",[e("input",{attrs:{id:"fileUpload",type:"file",hidden:""},on:{change:function(c){return t.handleFileChange(c)}}}),e("vs-button",{staticClass:"mr-2 mb-2",attrs:{color:"dark",type:"filled"},on:{click:function(c){return t.changeImage()}}},[t._v("Change Image")])],1)])])])]),e("div",{staticClass:"vx-col w-full lg:w-3/4 xl:w-3/4"},[e("form",{staticClass:"mt-4"},[e("div",{staticClass:"vx-row"},[e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Church Name",name:"input1"},model:{value:t.church.name,callback:function(c){t.$set(t.church,"name",c)},expression:"church.name"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("label",[t._v("Country")]),e("v-select",{staticClass:"mt-1",attrs:{label:"name",options:t.countries},on:{input:t.changeCountry},model:{value:t.church.countryId,callback:function(c){t.$set(t.church,"countryId",c)},expression:"church.countryId"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("label",[t._v("State")]),e("v-select",{staticClass:"mt-1",attrs:{label:"name",options:t.states},model:{value:t.church.state,callback:function(c){t.$set(t.church,"state",c)},expression:"church.state"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Region",name:"input1"},model:{value:t.church.region,callback:function(c){t.$set(t.church,"region",c)},expression:"church.region"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Country Code",name:"input1"},model:{value:t.church.countryCode,callback:function(c){t.$set(t.church,"countryCode",c)},expression:"church.countryCode"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Phone Number",name:"input1"},model:{value:t.church.phoneNumber,callback:function(c){t.$set(t.church,"phoneNumber",c)},expression:"church.phoneNumber"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Email",name:"input1"},model:{value:t.church.email,callback:function(c){t.$set(t.church,"email",c)},expression:"church.email"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Address",name:"input1"},model:{value:t.church.address,callback:function(c){t.$set(t.church,"address",c)},expression:"church.address"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Zone",name:"input1"},model:{value:t.church.zone,callback:function(c){t.$set(t.church,"zone",c)},expression:"church.zone"}})],1),e("div",{staticClass:"vx-col w-1/2 pt-3"},[e("vs-input",{staticClass:"w-full mt-5",attrs:{"label-placeholder":"Pastor",name:"input1"},model:{value:t.church.pastor,callback:function(c){t.$set(t.church,"pastor",c)},expression:"church.pastor"}})],1)]),e("vs-button",{staticClass:"mt-5 block",attrs:{type:"filled"},on:{click:function(c){return c.preventDefault(),t.submitForm(c)}}},[t._v("Edit Account")])],1)])])])])],1)},n=[],s=(e("7f7f"),e("4a7a")),o=e.n(s),i={components:{"v-select":o.a},data:function(){return{countries:[],states:[],churchInfo:{},imgpreview:!1,churchimg:"",imageDataUpload:"",previewUrl:"",church:{name:"",state:"",region:"",countryCode:"",phoneNumber:"",email:"",countryId:"",address:"",zone:"",pastor:""}}},mounted:function(){var t=this;this.openLoadingInDiv(),this.getChurchDetails(),this.$store.dispatch("getCountries").then((function(c){t.countries=c.data,t.$vs.loading.close("#div-with-loading > .con-vs-loading")})).catch((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading")}))},methods:{openLoadingInDiv:function(){this.$vs.loading({container:"#div-with-loading",scale:.6})},handleFileChange:function(t){var c=t.target.files[0];this.imageDataUpload=c,this.previewUrl=URL.createObjectURL(c),this.imgpreview=!0},saveImageUpload:function(){var t=this;this.openLoadingInDiv();var c={logo:this.imageDataUpload,churchId:this.$route.query._id};this.$store.dispatch("updateChurchLogo",c).then((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.$vs.notify({title:"Church Logo",text:"Church Logo updated successfully!",color:"success"}),t.getChurchDetails(),t.imgpreview=!1})).catch((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),c.response?400==c.response.status?(console.log(c.response.data),t.$vs.notify({title:"Church Logo",text:c.response.data,color:"warning"})):t.$vs.notify({title:"Church Logo",text:"Unable to edit church logo, try again!",color:"warning"}):t.$vs.notify({title:"Church Account",text:"Unable to edit church logo, try again!",color:"warning"})}))},getChurchDetails:function(){var t=this;this.openLoadingInDiv();var c=this.$route.params.id;this.$store.dispatch("getBranchDetails",c).then((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.churchInfo=c.data,t.church.name=t.churchInfo.name,t.church.countryId=t.churchInfo.countryId,t.church.state=t.churchInfo.state,t.church.region=t.churchInfo.region,t.church.countryCode=t.churchInfo.countryCode,t.church.phoneNumber=t.churchInfo.phoneNumber,t.church.email=t.churchInfo.email,t.church.address=t.churchInfo.address,t.church.zone=t.churchInfo.zone,t.church.pastor=t.churchInfo.pastor,t.churchimg="https://d1fp61h5e226jt.cloudfront.net/"+t.churchInfo.img})).catch((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),console.log(c.response),c.response&&400==c.response.status?(console.log(c.response.data),t.$vs.notify({title:"Church Account",text:c.response.data,color:"warning"})):t.$vs.notify({title:"Church Account",text:"Unable to load church details, try again!",color:"warning"})}))},changeCountry:function(t){var c=this;this.openLoadingInDiv();var e=t._id;this.$store.dispatch("getState",e).then((function(t){c.states=t.data,c.$vs.loading.close("#div-with-loading > .con-vs-loading")})).catch((function(t){c.$vs.loading.close("#div-with-loading > .con-vs-loading")}))},changeImage:function(){document.getElementById("fileUpload").click()},submitForm:function(){var t=this;this.openLoadingInDiv();var c={church:this.church,churchId:this.$route.query._id};this.$store.dispatch("editChurch",c).then((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.$vs.notify({title:"Edit Church Account",text:"Church Account editted successfully!",color:"success"})})).catch((function(c){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),c.response&&400==c.response.status?(console.log(c.response.data),t.$vs.notify({title:"Create Church Account",text:c.response.data,color:"warning"})):t.$vs.notify({title:"Edit Church Account",text:"Unable to edit Church account, try again!",color:"warning"})}))}}},l=i,r=e("2877"),h=Object(r["a"])(l,a,n,!1,null,null,null);c["default"]=h.exports}}]);
//# sourceMappingURL=chunk-2d0ab858.5e861f8f.js.map