(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d210950"],{b903:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.loading?t._e():a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-8 col-4"},[a("vs-button",{attrs:{color:"dark",type:"flat"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("â† Back")])],1),a("div",{staticClass:"col-md-4 col-8"},[a("div",{staticClass:"text-right"},[a("vs-button",{staticClass:"ml-5",attrs:{color:"dark",type:"border"},on:{click:function(e){return t.toggleStatus()}}},["active"==t.datacontent.status_text?a("span",[t._v("Deactivate")]):a("span",[t._v("Activate")])]),a("vs-button",{staticClass:"ml-5",attrs:{color:"dark",type:"filled"},on:{click:t.editCompany}},[t._v("Edit profile")])],1)])]),a("div",{staticClass:"mt-5"},[a("div",{staticClass:"row mb-10",staticStyle:{"align-items":"center"}},[a("div",{staticClass:"col-md-2"},[a("vs-avatar",{attrs:{size:"150px",src:t.datacontent.profile_photo_url}})],1),t.datacontent.profile?a("div",{staticClass:"col-md-3"},[a("p",{staticClass:"text-small mb-2 text-grey"},[t._v("Company Profile")]),a("h2",{staticClass:"mb-2"},[t._v("\n          "+t._s(t.datacontent.profile.company_name)+"\n        ")]),a("p",{},[a("span",{staticClass:"text-underline text-black font-light text-small"},[t._v(t._s(t.datacontent.profile.office_address))])])]):t._e(),a("div",{staticClass:"col-md-3"},[a("p",{staticClass:"text-small mb-2 text-grey"},[t._v("Manager Profile")]),a("h2",{staticClass:"mb-2"},[t._v("\n          "+t._s(t.datacontent.firstname)+" "+t._s(t.datacontent.lastname)+"\n        ")]),a("p",{},[a("a",{staticClass:"text-underline text-black font-light text-small",attrs:{href:"mailto:"+t.datacontent.email}},[t._v(t._s(t.datacontent.email))])]),a("p",{},[a("a",{staticClass:"text-underline text-black font-light text-small",attrs:{href:"tel:"+t.datacontent.phone}},[t._v(t._s(t.datacontent.phone))])])])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("vs-card",[a("div",{staticClass:"p-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-9"},[a("h4",{staticClass:"font-bold"},[t._v("-")]),a("p",{staticClass:"mt-3"},[t._v("Total Trips")])]),a("div",{staticClass:"col-3"},[a("h4",[a("feather-icon",{staticClass:"mr-1",attrs:{icon:"MapIcon"}})],1)])])])])],1),a("div",{staticClass:"col-md-3"},[a("vs-card",[a("div",{staticClass:"p-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-9"},[a("h4",{staticClass:"font-bold"},[t._v("-")]),a("p",{staticClass:"mt-3"},[t._v("Total Trips")])]),a("div",{staticClass:"col-3"},[a("h4",[a("feather-icon",{staticClass:"mr-1",attrs:{icon:"TruckIcon"}})],1)])])])])],1)]),a("div",{staticClass:"p-2"},[a("div",{staticClass:"mb-4"},[a("p",{staticClass:"font-bold lead"},[t._v("All trucks ("+t._s(t.contents.totalRecord)+")")])]),a("vs-table",{attrs:{id:"div-with-loading","max-items":"10",data:t.contents.records,search:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.data;return t._l(s,(function(e,i){return a("vs-tr",{key:i},[a("vs-td",{attrs:{data:s[i].title}},[a("router-link",{staticClass:"font-bold",attrs:{to:"/view-content/"+s[i].id}},[t._v("\n                "+t._s(s[i].name))])],1),a("vs-td",{attrs:{data:s[i].synopsis}},[a("span",{staticClass:"text-small",domProps:{innerHTML:t._s(s[i].synopsis)}})]),a("vs-td",{attrs:{data:s[i].pregnancy_week}},[t._v("\n              "+t._s(s[i].pregnancy_week)+" - Week\n            ")]),a("vs-td",{attrs:{data:s[i].id}},[a("p",{staticClass:"text-small"},[t._v("Published")]),t._v("\n              "+t._s(t.moment.utc(new Date(s[i].date_created)).format("dddd, MMM Do 'YY"))+"\n            ")]),a("vs-td",[a("vs-button",{staticClass:"mr-2 mb-2",attrs:{to:"/edit-pregnancy-content/"+s[i].id,size:"small"}},[t._v("Edit")]),a("vs-button",{attrs:{size:"small",color:"dark"},on:{click:function(e){return t.deleteItem(s[i].id)}}},[t._v("Delete")])],1)],1)}))}}],null,!1,2877102944)},[a("template",{slot:"thead"},[a("vs-th",[t._v(" Title ")]),a("vs-th",[t._v(" Truck type ")]),a("vs-th",[t._v(" Status ")]),a("vs-th",[t._v(" Plate number ")]),a("vs-th",[t._v(" Driver")]),a("vs-th",[t._v(" Phone")]),a("vs-th",[t._v(" Action ")])],1)],2),t.contents?a("vs-pagination",{staticClass:"mt-4",attrs:{total:Math.ceil(t.contents.totalRecord/10)},model:{value:t.table_options.current_page,callback:function(e){t.$set(t.table_options,"current_page",e)},expression:"table_options.current_page"}}):t._e()],1)]),a("vs-popup",{staticClass:"addPopup",attrs:{title:"Edit Company profile",active:t.editView},on:{"update:active":function(e){t.editView=e}}},[a("div",[a("form",{on:{submit:function(e){return e.preventDefault(),t.editProfile(e)}}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-12"},[a("div",{staticClass:"py-3"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Company name"},model:{value:t.edit.company_name,callback:function(e){t.$set(t.edit,"company_name",e)},expression:"edit.company_name"}})],1)])]),a("div",{staticClass:"py-3"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Company address"},model:{value:t.edit.company_address,callback:function(e){t.$set(t.edit,"company_address",e)},expression:"edit.company_address"}})],1),a("div",[a("div",{staticClass:"py-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Manager First name"},model:{value:t.edit.firstname,callback:function(e){t.$set(t.edit,"firstname",e)},expression:"edit.firstname"}})],1),a("div",{staticClass:"col-md-6"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Manager Last name"},model:{value:t.edit.lastname,callback:function(e){t.$set(t.edit,"lastname",e)},expression:"edit.lastname"}})],1)])])]),a("div",[a("div",{staticClass:"py-3"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Manager Email"},model:{value:t.edit.email,callback:function(e){t.$set(t.edit,"email",e)},expression:"edit.email"}})],1)]),a("div",[a("div",{staticClass:"py-3"},[a("vs-input",{staticClass:"w-full",attrs:{"label-placeholder":"Manager Phone number"},model:{value:t.edit.phone,callback:function(e){t.$set(t.edit,"phone",e)},expression:"edit.phone"}})],1)]),a("div",{staticClass:"mt-10"},[a("vs-button",{staticClass:"w-full my-3",attrs:{color:"dark",type:"filled"},on:{click:t.editProfile}},[t._v("Edit Company Profile")]),a("vs-button",{staticClass:"w-full mb-2",attrs:{color:"dark",type:"flat"},on:{click:function(e){t.editView=!1}}},[t._v("Cancel")])],1)])])])],1)},i=[],n=(a("20d6"),{computed:{loading:function(){return this.$store.getters.pgLoading}},mounted:function(){this.getData(),this.getBl()},data:function(){return{contents:[],addData:!1,table_options:{current_page:1},datacontent:{},delAct:"",editView:!1,editData:{},edit:{firstname:"",lastname:"",email:"",phone:"",company_name:"",company_address:"",id:""}}},watch:{"table_options.current_page":function(){this.getContents(!0)}},methods:{editCompany:function(){this.editView=!0,this.edit.id=this.datacontent.id,this.edit.firstname=this.datacontent.firstname,this.edit.lastname=this.datacontent.lastname,this.edit.email=this.datacontent.email,this.edit.phone=this.datacontent.phone,this.edit.company_name=this.datacontent.profile.company_name,this.edit.company_address=this.datacontent.profile.office_address},editProfile:function(){var t=this;this.$vs.loading();var e=new FormData;e.append("firstname",this.edit.firstname),e.append("lastname",this.edit.lastname),e.append("email",this.edit.email),e.append("phone",this.edit.phone),e.append("company_name",this.edit.company_name),e.append("company_address",this.edit.company_address);var a={path:"/admin/managers/".concat(this.edit.id,"/update"),data:e};this.$store.dispatch("create",a).then((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Edit Company Profile",text:"Successfully editted new profile",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){location.reload()}),1e3)})).catch((function(e){t.$vs.loading.close(),e.response?t.$vs.notify({title:"Edit Company Profile",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Create Company Profile",text:"Unable to edit Company Profile",color:"dark",icon:"error",position:"bottom-center"})}))},getData:function(){var t=this;this.$store.commit("pgLoading",!0);var e={path:"admin/managers/".concat(this.$route.params.id)};this.$store.dispatch("getContentsDetail",e).then((function(e){t.datacontent=e.data.data,t.$store.commit("pgLoading",!1)})).catch((function(e){e.response?t.$vs.notify({title:"Get Data",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Get Data",text:"Unable to get Data",color:"dark",icon:"error",position:"bottom-center"}),t.$store.commit("pgLoading",!1)}))},toggleStatus:function(){var t=this;this.$vs.loading({container:"#div-with-loading",scale:.6});var e=this.$route.params.id,a={id:e},s={path:"/admin/managers/".concat(e,"/toggle-status"),data:a};this.$store.dispatch("create",s).then((function(e){t.$vs.loading.close(),t.$vs.notify({title:"Company status",text:"Status changed successfully",color:"success",icon:"verified_user",position:"bottom-center"}),setTimeout((function(){location.reload()}),1e3)})).catch((function(e){t.$vs.loading.close(),e.response?t.$vs.notify({title:"Company status",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Company status",text:"Unable to Change status",color:"dark",icon:"error",position:"bottom-center"})}))},deleteItem:function(t){this.delAct=t,this.$vs.dialog({type:"confirm",color:"danger",title:"Confirm Delete",text:"Are you sure you want to delete this content",accept:this.deleteFunc})},deleteFunc:function(){var t=this;this.$vs.loading({container:"#div-with-loading",scale:.6});var e=this.delAct;this.$store.dispatch("delContent",e).then((function(a){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.contents.records.splice(t.contents.records.findIndex((function(t){return t.id===e})),1),t.$vs.notify({icon:"error",color:"dark",position:"bottom-center",title:"Content deleted",text:"Content was successfully deleted"})})).catch((function(e){t.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.response?t.$vs.notify({title:"Delete content",text:e.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):t.$vs.notify({title:"Delete content",text:"Unable to delete this content",color:"dark",icon:"error",position:"bottom-center"})}))},getBl:function(){},getContents:function(t){var e=this;t&&this.$vs.loading({container:"#div-with-loading",scale:.6});var a={type:"pregnancy",pageNo:this.table_options.current_page};this.$store.dispatch("getContents",a).then((function(a){e.contents=a.data.data,t&&e.$vs.loading.close("#div-with-loading > .con-vs-loading"),e.$store.commit("pgLoading",!1)})).catch((function(t){e.$vs.loading.close("#div-with-loading > .con-vs-loading"),t.response?e.$vs.notify({title:"Get Contents",text:t.response.data.message,color:"warning",icon:"error",position:"bottom-center"}):e.$vs.notify({title:"Get Contents",text:"Unable to get contents",color:"dark",icon:"error",position:"bottom-center"}),e.$store.commit("pgLoading",!1)}))}}}),o=n,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d210950.0f787363.js.map