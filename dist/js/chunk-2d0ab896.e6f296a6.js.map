{"version":3,"sources":["webpack:///./src/views/CreateBranch.vue?9965","webpack:///src/views/CreateBranch.vue","webpack:///./src/views/CreateBranch.vue?4b0f","webpack:///./src/views/CreateBranch.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","_v","model","value","branch","callback","$$v","$set","expression","countries","changeCountry","states","handleFileChange","preventDefault","submitForm","staticRenderFns","components","data","Name","State","Region","CountryCode","PhoneNumber","Email","countryId","Address","Logo","Zone","Pastor","publicToken","mounted","openLoadingInDiv","$route","params","id","$store","methods","$vs","loading","container","scale","console","log","event","target","files","component"],"mappings":"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","file":"js/chunk-2d0ab896.e6f296a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('vs-card',{staticClass:\"p-5\"},[_c('a',{attrs:{\"href\":\"javascript:void()\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"← Back\")]),_c('h4',{staticClass:\"inline-block ml-2\"},[_vm._v(\"Create new branch\")]),_c('div',{staticClass:\"contained-example-container\"},[_c('form',{staticClass:\"mt-4 vs-con-loading__container\",attrs:{\"id\":\"div-with-loading\"}},[_c('div',{staticClass:\"vx-row\"},[_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Branch Name\",\"name\":\"input1\"},model:{value:(_vm.branch.Name),callback:function ($$v) {_vm.$set(_vm.branch, \"Name\", $$v)},expression:\"branch.Name\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('label',[_vm._v(\"Country\")]),_c('v-select',{staticClass:\"mt-1\",attrs:{\"label\":\"name\",\"options\":_vm.countries},on:{\"input\":_vm.changeCountry},model:{value:(_vm.branch.countryId),callback:function ($$v) {_vm.$set(_vm.branch, \"countryId\", $$v)},expression:\"branch.countryId\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('label',[_vm._v(\"State\")]),_c('v-select',{staticClass:\"mt-1\",attrs:{\"label\":\"name\",\"options\":_vm.states},model:{value:(_vm.branch.State),callback:function ($$v) {_vm.$set(_vm.branch, \"State\", $$v)},expression:\"branch.State\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Region\",\"name\":\"input1\"},model:{value:(_vm.branch.Region),callback:function ($$v) {_vm.$set(_vm.branch, \"Region\", $$v)},expression:\"branch.Region\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Country Code\",\"name\":\"input1\"},model:{value:(_vm.branch.CountryCode),callback:function ($$v) {_vm.$set(_vm.branch, \"CountryCode\", $$v)},expression:\"branch.CountryCode\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Phone Number\",\"name\":\"input1\"},model:{value:(_vm.branch.PhoneNumber),callback:function ($$v) {_vm.$set(_vm.branch, \"PhoneNumber\", $$v)},expression:\"branch.PhoneNumber\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Email\",\"name\":\"input1\"},model:{value:(_vm.branch.Email),callback:function ($$v) {_vm.$set(_vm.branch, \"Email\", $$v)},expression:\"branch.Email\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Address\",\"name\":\"input1\"},model:{value:(_vm.branch.Address),callback:function ($$v) {_vm.$set(_vm.branch, \"Address\", $$v)},expression:\"branch.Address\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Zone\",\"name\":\"input1\"},model:{value:(_vm.branch.Zone),callback:function ($$v) {_vm.$set(_vm.branch, \"Zone\", $$v)},expression:\"branch.Zone\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-5\",attrs:{\"label-placeholder\":\"Pastor\",\"name\":\"input1\"},model:{value:(_vm.branch.Pastor),callback:function ($$v) {_vm.$set(_vm.branch, \"Pastor\", $$v)},expression:\"branch.Pastor\"}})],1),_c('div',{staticClass:\"vx-col w-1/2 pt-3\"},[_c('vs-input',{staticClass:\"w-full mt-0\",attrs:{\"label\":\"Logo\",\"accept\":\"image/png, image/jpeg, image/jpg\",\"name\":\"input1\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.handleFileChange($event)}}})],1)]),_c('vs-button',{staticClass:\"mt-5 block\",attrs:{\"type\":\"filled\"},on:{\"click\":function($event){$event.preventDefault();return _vm.submitForm($event)}}},[_vm._v(\"Create Branch\")])],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <vs-card class=\"p-5\">\n      <a href=\"javascript:void()\" @click=\"$router.go(-1)\">← Back</a>\n      <h4 class=\"inline-block ml-2\">Create new branch</h4>\n      <div class=\"contained-example-container\">\n        <form class=\"mt-4 vs-con-loading__container\" id=\"div-with-loading\">\n          <div class=\"vx-row\">\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Branch Name\"\n                v-model=\"branch.Name\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <label>Country</label>\n              <v-select\n                @input=\"changeCountry\"\n                class=\"mt-1\"\n                v-model=\"branch.countryId\"\n                label=\"name\"\n                :options=\"countries\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <label>State</label>\n              <v-select class=\"mt-1\" v-model=\"branch.State\" label=\"name\" :options=\"states\" />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Region\"\n                v-model=\"branch.Region\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Country Code\"\n                v-model=\"branch.CountryCode\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Phone Number\"\n                v-model=\"branch.PhoneNumber\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Email\"\n                v-model=\"branch.Email\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Address\"\n                v-model=\"branch.Address\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Zone\"\n                v-model=\"branch.Zone\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label-placeholder=\"Pastor\"\n                v-model=\"branch.Pastor\"\n                name=\"input1\"\n                class=\"w-full mt-5\"\n              />\n            </div>\n\n            <div class=\"vx-col w-1/2 pt-3\">\n              <vs-input\n                label=\"Logo\"\n                accept=\"image/png, image/jpeg, image/jpg\"\n                @change=\"handleFileChange($event)\"\n                name=\"input1\"\n                type=\"file\"\n                class=\"w-full mt-0\"\n              />\n            </div>\n          </div>\n          <vs-button type=\"filled\" @click.prevent=\"submitForm\" class=\"mt-5 block\">Create Branch</vs-button>\n        </form>\n      </div>\n    </vs-card>\n  </div>\n</template>\n\n<script>\nimport vSelect from \"vue-select\";\nexport default {\n  components: {\n    \"v-select\": vSelect\n  },\n  data() {\n    return {\n      countries: [],\n      states: [],\n      branch: {\n        Name: \"\",\n        State: \"\",\n        Region: \"\",\n        CountryCode: \"\",\n        PhoneNumber: \"\",\n        Email: \"\",\n        countryId: \"\",\n        Address: \"\",\n        Logo: \"\",\n        Zone: \"\",\n        Pastor: \"\",\n        publicToken: \"\"\n      }\n    };\n  },\n  mounted() {\n    this.openLoadingInDiv();\n    this.branch.publicToken = this.$route.params.id;\n    this.$store\n      .dispatch(\"getCountries\")\n      .then(resp => {\n        this.countries = resp.data;\n        this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n      })\n      .catch(err => {\n        this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n      });\n  },\n  methods: {\n    openLoadingInDiv() {\n      this.$vs.loading({\n        container: \"#div-with-loading\",\n        scale: 0.6\n      });\n    },\n    handleFileChange: function(event) {\n      console.log(event.target.files[0]);\n      this.branch.Logo = event.target.files[0];\n    },\n    changeCountry(value) {\n      this.openLoadingInDiv();\n      let countryId = value._id;\n      this.$store\n        .dispatch(\"getState\", countryId)\n        .then(resp => {\n          this.states = resp.data;\n          console.log(resp);\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n        })\n        .catch(err => {\n          console.log(err);\n\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n        });\n    },\n    submitForm() {\n      // this.branch.State = this.branch.State.name;\n      // this.branch.countryId = this.branch.countryId._id;\n      this.openLoadingInDiv();\n      let branch = this.branch;\n      this.$store\n        .dispatch(\"createBranch\", branch)\n        .then(resp => {\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n          this.$vs.notify({\n            title: \"Create new branch\",\n            text: \"Branch created successfully!\",\n            color: \"success\"\n          });\n          this.branch = {\n            Name: \"\",\n            State: \"\",\n            Region: \"\",\n            CountryCode: \"\",\n            PhoneNumber: \"\",\n            Email: \"\",\n            countryId: \"\",\n            Address: \"\",\n            Logo: \"\",\n            Zone: \"\",\n            Pastor: \"\"\n          };\n          console.log(resp);\n        })\n        .catch(err => {\n          this.$vs.loading.close(\"#div-with-loading > .con-vs-loading\");\n          console.log(err.response);\n\n          if (err.response) {\n            if (err.response.status == 400) {\n              console.log(err.response.data);\n              this.$vs.notify({\n                title: \"Create new branch\",\n                text: err.response.data,\n                color: \"warning\"\n              });\n            } else {\n              this.$vs.notify({\n                title: \"Create new branch\",\n                text: \"Unable to create new branch, try again!\",\n                color: \"warning\"\n              });\n            }\n          } else {\n            this.$vs.notify({\n              title: \"Create new branch\",\n              text: \"Unable to create new branch, try again!\",\n              color: \"warning\"\n            });\n          }\n        });\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateBranch.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CreateBranch.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CreateBranch.vue?vue&type=template&id=9a1c54c4&\"\nimport script from \"./CreateBranch.vue?vue&type=script&lang=js&\"\nexport * from \"./CreateBranch.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}